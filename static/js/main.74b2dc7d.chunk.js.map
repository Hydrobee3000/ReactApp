{"version":3,"sources":["components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/common/UsersLogo/UserLogo.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","redux/dialogs-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","utils/validators/validarors.js","components/common/FormsControls/FormsControls.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","components/api/api.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.png","components/Users/User/User.jsx","components/Users/Users.jsx","assets/images/preloader.svg","components/common/Preloader/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/common/UsersLogo/UserLogo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/MyPosts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Users/User/User.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Login/Login.module.css","components/Profile/Posts/Post/Post.module.css","components/Profile/Posts/MyPosts.module.css","components/common/Paginator/Paginator.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","DialogItem","props","className","s","dialog__item","link","activeClassName","active","to","Message","required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","child","hasError","touched","error","form__control","children","Textarea","restProps","Input","TextField","maxLength50","reduxForm","form","form__message","onSubmit","handleSubmit","Field","add__message_field","component","validate","placeholder","wrapper__button","add__message_button","Dialogs","dialogsPage","dialogsElements","map","d","messagesElements","m","isAuth","dialogs__container","dialogs__items","messages__container","message__item","message__send_field","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","instance","axios","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","userId","post","delete","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","user","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","button","onClick","page","classnames","page__selected","page__number","e","User","Card","user__container","CardMedia","image__container","title","user__photo","src","photos","small","userPhoto","alt","CardContent","user__details","Typography","name__wrapper","variant","status__wrapper","color","CardActions","button__wrapper","Button","disabled","some","unfollow","follow","Users","users__container","users__wrapper","Preloader","preloader","preloader__image","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","a","resultCode","items","totalCount","ProfileStatus","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileInfo","profile","Paper","profile_info__container","photo__block","photo__wrapper","isOwner","select__image","accept","select__image_input","target","files","htmlFor","IconButton","button__load_image","aria-label","main__photo","large","details__block","fullName","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","profileReducer","newPost","newPostText","p","postId","UserLogo","user__logo","Post","post_container","details__container","post__text","like__wrapper","like","icon","maxLength100","AddNewPostFormRedux","form_post","add__post_field","add__post_button","MyPosts","postsElements","posts__container","form_post__container","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","authorizedUserId","getUserProfile","withRouter","match","params","history","Navbar","menu","item","toggleDrawer","Divider","Header","anchor","setAnchor","open","Boolean","menuBar","setMenuBar","isOpenBar","event","key","AppBar","header","position","Toolbar","edge","SwipeableDrawer","onClose","onOpen","login__block","aria-controls","aria-haspopup","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","login","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","maxLength20","minLength4","minLength8","LoginReduxForm","login__container","login__wrapper","name_field__wrapper","email__text_field","label","password__text_field","checkbox","captcha__container","form__summary_error","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","theme","createTheme","palette","primary","main","secondary","AppContainer","inititalizeApp","Grid","container","xs","exact","path","render","DialogsContainer","MainApp","StrictMode","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.74b2dc7d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1qgC_\",\"title\":\"Header_title__2VfwY\",\"login__button\":\"Header_login__button__1K9WG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"FormsControls_form__control__mwhBB\",\"error\":\"FormsControls_error__1VXKM\",\"form__summary_error\":\"FormsControls_form__summary_error__2itv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"Users_users__container__aGTZd\",\"users__wrapper\":\"Users_users__wrapper__1U53-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3QxHB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2n60n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__2AM9E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__logo\":\"UserLogo_user__logo__2zm__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs__container\":\"Dialogs_dialogs__container__3YAGs\",\"dialogs__items\":\"Dialogs_dialogs__items__3pOfC\",\"dialog__item\":\"Dialogs_dialog__item__8oPjS\",\"link\":\"Dialogs_link__H-dq0\",\"messages__container\":\"Dialogs_messages__container__2p-C5\",\"message__item\":\"Dialogs_message__item__10xUV\",\"message\":\"Dialogs_message__2t6gf\",\"message__send_field\":\"Dialogs_message__send_field__1KUlR\",\"form__message\":\"Dialogs_form__message__14rZo\",\"add__message_field\":\"Dialogs_add__message_field__3NNCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__t1fqB\",\"link\":\"Navbar_link__37ms-\",\"item\":\"Navbar_item__2B-yV\",\"active\":\"Navbar_active__U22O7\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: '1' },\r\n    { id: 2, name: '2' },\r\n    { id: 3, name: '3' },\r\n    { id: 4, name: '4' },\r\n    { id: 5, name: '5' },\r\n    { id: 6, name: '6' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'hi' },\r\n    { id: 2, message: 'hello' },\r\n    { id: 3, message: 'privet' },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 4, message: body }],\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog__item}>\r\n      <NavLink className={s.link} activeClassName={s.active} to={'/dialogs/' + props.id}>\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem\r\n","import s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message\r\n","export const required = (value) => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'Field is required!'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n  if (value.length < minLength) {\r\n    return `Min length is ${minLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n","import s from './FormsControls.module.css'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n    <div className={s.form__control + ' ' + (hasError ? s.error : '')}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <TextField {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validarors'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form className={s.form__message} onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          className={s.add__message_field}\r\n          component={Textarea}\r\n          validate={[required, maxLength50]}\r\n          placeholder='Enter your message'\r\n          name='newMessageBody'\r\n        />\r\n      </div>\r\n      <div className={s.wrapper__button}>\r\n        <button className={s.add__message_button}>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default reduxForm({ form: 'dialog-add-message-form' })(AddMessageForm)\r\n","import s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport { Redirect } from 'react-router-dom'\r\nimport AddMessageForm from './AddMessageForm/AddMessageForm'\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.dialogsPage\r\n\r\n  let dialogsElements = state.dialogs.map((d) => <DialogItem name={d.name} key={d.id} id={d.id} />)\r\n  let messagesElements = state.messages.map((m) => <Message message={m.message} key={m.id} />)\r\n  let newMessageBody = state.newMessageBody\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageBody)\r\n  }\r\n\r\n  if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n  return (\r\n    <div className={s.dialogs__container}>\r\n      <div className={s.dialogs__items}>{dialogsElements}</div>\r\n      <div className={s.messages__container}>\r\n        <div className={s.message__item}>{messagesElements}</div>\r\n        <div className={s.message__send_field}>\r\n          <AddMessageForm onSubmit={addNewMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) return <Redirect to='/login' />\r\n\r\n    return <Component {...props} />\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","import { sendMessageCreator } from '../../redux/dialogs-reducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageCreator(newMessageBody))\r\n    },\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'd334ed35-7c2b-4f86-86db-09775214dcba',\r\n  },\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then((response) => {\r\n      return response.data\r\n    })\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please profileAPI object.')\r\n    return profileAPI.getProfile(userId)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status })\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n    return instance.put(`profile/photo`, formData)\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  },\r\n}\r\n","import { usersAPI } from '../components/api/api'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 12,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage }\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.follow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(followSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.unfollow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(unfollowSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import s from './Paginator.module.css'\r\nimport { useState } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 5 }) => {\r\n  const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n  const pages = [] //create array of pages\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  //indexing each page and writing to an array\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize)\r\n  const [portionNumber, setPortionNumber] = useState(1) //portion control\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1 //left portion border\r\n  const rightPortionPageNumber = portionNumber * portionSize //right portion border\r\n\r\n  return (\r\n    <div className={s.paginator}>\r\n      {portionNumber > 1 && ( // button (previous) appears if we are not on the first portion\r\n        <button\r\n          className={s.button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1) //showing the previous portion\r\n          }}>\r\n          prev\r\n        </button>\r\n      )}\r\n      {/* Filtering pages: pages within the portion range and maps render item */}\r\n      {pages\r\n        .filter((page) => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map((page) => {\r\n          return (\r\n            <button\r\n              className={classnames(\r\n                {\r\n                  [s.page__selected]: currentPage === page, //if the page is current - className = page__selected\r\n                },\r\n                s.page__number //and className = page__number\r\n              )}\r\n              key={page}\r\n              onClick={(e) => {\r\n                onPageChanged(page) //redirection to the page\r\n              }}>\r\n              {page}\r\n            </button>\r\n          )\r\n        })}\r\n      {portionCount > portionNumber && ( // button (next) appears if we are not on the last portion\r\n        <button\r\n          className={s.button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1) //showing the next portion\r\n          }}>\r\n          next\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","export default __webpack_public_path__ + \"static/media/user.db93928b.png\";","import s from './User.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <Card className={s.user__container}>\r\n      <CardMedia className={s.image__container} title='user profile'>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img className={s.user__photo} src={user.photos.small != null ? user.photos.small : userPhoto} alt='user' />\r\n        </NavLink>\r\n      </CardMedia>\r\n      <CardContent className={s.user__details}>\r\n        <Typography className={s.name__wrapper} component='h3' variant='h3'>\r\n          <div className={s.name}>{user.name}</div>\r\n        </Typography>\r\n        <Typography className={s.status__wrapper} variant='subtitle1' color='textSecondary'>\r\n          <div className={s.status}>{user.status}</div>\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions className={s.button__wrapper}>\r\n        {user.followed ? (\r\n          <Button\r\n            variant='outlined'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.unfollow(user.id)\r\n            }}\r\n          >\r\n            Unfollow\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant='contained'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.follow(user.id)\r\n            }}\r\n          >\r\n            Follow\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import Paginator from '../common/Paginator/Paginator'\r\nimport User from './User/User'\r\nimport s from './Users.module.css'\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.users__container}>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n      />\r\n      <div className={s.users__wrapper}>\r\n        {props.users.map((user) => (\r\n          <User\r\n            user={user}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n            key={user.id}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","export default __webpack_public_path__ + \"static/media/preloader.a6f61220.svg\";","import preloader from '../../../assets/images/preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div className={s.preloader}>\r\n      <img className={s.preloader__image} src={preloader} alt='preloader' />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n","import { connect } from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer'\r\nimport React from 'react'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors'\r\nimport { getIsFetching } from './../../redux/users-selectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers })\r\n)(UsersContainer)\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => setEditMode(true)\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode && (\r\n        <span>\r\n          <span onDoubleClick={activateEditMode}>{props.status || '----'}</span>\r\n        </span>\r\n      )}\r\n      {editMode && (\r\n        <span>\r\n          <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus\r\n","import Preloader from '../../common/Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper className={s.profile_info__container}>\r\n      <div className={s.photo__block}>\r\n        <div className={s.photo__wrapper}>\r\n          {props.isOwner && (\r\n            <div className={s.select__image}>\r\n              <input\r\n                accept='image/*'\r\n                className={s.select__image_input}\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={onMainPhotoSelected}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton className={s.button__load_image} color='primary' aria-label='upload picture' component='div'>\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </div>\r\n          )}\r\n          <img\r\n            className={s.main__photo}\r\n            src={props.profile.photos.large != null ? props.profile.photos.large : userPhoto}\r\n            alt=''\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={s.details__block}>\r\n        <div className={s.name}>\r\n          <h1>{props.profile.fullName}</h1>\r\n        </div>\r\n        <div className={s.status}>\r\n          <h3>Status: </h3>\r\n          <ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  )\r\n}\r\nexport default ProfileInfo\r\n","import { profileAPI, usersAPI } from '../components/api/api'\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'hi', likesCount: 12 },\r\n    { id: 2, message: 'hello', likesCount: 5 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return { ...state, posts: state.posts.filter((p) => p.id !== action.postId) }\r\n    }\r\n\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      }\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos))\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import userPhoto from '../../../assets/images/user.png'\r\nimport s from './UserLogo.module.css'\r\n\r\nconst UserLogo = (props) => {\r\n  return <img className={s.user__logo} src={userPhoto} alt='user logo' />\r\n}\r\n\r\nexport default UserLogo\r\n","import s from './Post.module.css'\r\nimport UserLogo from '../../../common/UsersLogo/UserLogo'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport FavoriteBorderRoundedIcon from '@material-ui/icons/FavoriteBorderRounded'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <Card className={s.post_container}>\r\n      <CardMedia className={s.image__container} title='user'>\r\n        <UserLogo profile={props.profile} />\r\n      </CardMedia>\r\n      <div className={s.details__container}>\r\n        <CardContent className={s.post__text}>{props.message}</CardContent>\r\n        <CardActions className={s.like__wrapper}>\r\n          <div className={s.like}>\r\n            <FavoriteBorderRoundedIcon className={s.icon} />\r\n          </div>\r\n          {/* <span>{props.likesCount}</span> */}\r\n        </CardActions>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import { React } from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validarors'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport { Card } from '@material-ui/core'\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form className={s.form_post} onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field className={s.add__post_field} component={Textarea} name='newPostText' validate={[required, maxLength100]} />\r\n      </div>\r\n      <div>\r\n        <button className={s.add__post_button}>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm)\r\n\r\nconst MyPosts = (props) => {\r\n  let postsElements = props.posts.map((post) => (\r\n    <Post profile={props.profile} message={post.message} likesCount={post.likesCount} />\r\n  ))\r\n\r\n  const onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n\r\n  return (\r\n    <div className={s.posts__container}>\r\n      <Card className={s.form_post__container}>\r\n        <h2>My posts</h2>\r\n        <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      </Card>\r\n\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts\r\n","import { connect } from 'react-redux'\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    },\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './Posts/MyPostsContainer'\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.profile}>\r\n      <ProfileInfo\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer users={props.users} profile={props.profile} />\r\n    </div>\r\n  )\r\n}\r\nexport default Profile\r\n","import Profile from './Profile'\r\nimport React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport { savePhoto } from './../../redux/profile-reducer'\r\n\r\nconst ProfileContainer = (props) => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId\r\n\r\n    if (!userId) {\r\n      userId = props.authorizedUserId\r\n      if (!userId) {\r\n        props.history.push('/login')\r\n      }\r\n    }\r\n    props.getUserProfile(userId)\r\n    props.getStatus(userId)\r\n  })\r\n\r\n  return (\r\n    <Profile\r\n      {...props}\r\n      isOwner={!props.match.params.userId}\r\n      profile={props.profile}\r\n      status={props.status}\r\n      updateStatus={props.updateStatus}\r\n      savePhoto={props.savePhoto}\r\n    />\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n  withRouter\r\n)(ProfileContainer)\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\nimport Divider from '@material-ui/core/Divider'\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <nav className={s.menu}>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.toggleDrawer(false)} to='/profile'>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.toggleDrawer(false)} to='/dialogs'>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.toggleDrawer(false)} to='/users'>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.toggleDrawer(false)} to='/weather'>\r\n          Weather\r\n        </NavLink>\r\n      </div>\r\n      <Divider />\r\n\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.toggleDrawer(false)} to='/settings'>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\nimport React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport { SwipeableDrawer } from '@material-ui/core'\r\nimport { useState } from 'react'\r\nimport Navbar from './../Navbar/Navbar'\r\n\r\nconst Header = (props) => {\r\n  const [anchor, setAnchor] = useState(null)\r\n  const open = Boolean(anchor)\r\n  const handleMenu = (event) => {\r\n    setAnchor(event.currentTarget)\r\n  }\r\n\r\n  const [menuBar, setMenuBar] = useState(null)\r\n\r\n  const toggleDrawer = (isOpenBar) => (event) => {\r\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return\r\n    }\r\n    setMenuBar(isOpenBar)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <AppBar className={s.header} position='static'>\r\n        <Toolbar>\r\n          <IconButton onClick={toggleDrawer(true)} edge='start' color='inherit' aria-label='open drawer'>\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <SwipeableDrawer open={menuBar} onClose={toggleDrawer(false)} onOpen={() => {}}>\r\n            <Navbar toggleDrawer={toggleDrawer} />\r\n          </SwipeableDrawer>\r\n\r\n          <Typography variant='h6' className={s.title}>\r\n            HydroBee\r\n          </Typography>\r\n\r\n          <div className={s.login__block}>\r\n            <IconButton\r\n              aria-label='account of current user'\r\n              aria-controls='menu-appbar'\r\n              aria-haspopup='true'\r\n              onClick={handleMenu}\r\n              color='inherit'>\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id='menu-appbar'\r\n              anchorEl={anchor}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={open}\r\n              onClose={() => {\r\n                setAnchor(null)\r\n              }}>\r\n              {props.isAuth ? (\r\n                <>\r\n                  <NavLink to='/profile'>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        setAnchor(null)\r\n                      }}>\r\n                      Profile\r\n                    </MenuItem>\r\n                  </NavLink>\r\n                  <MenuItem onClick={props.logout}>Log out</MenuItem>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <NavLink to={'/login'}>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        setAnchor(null)\r\n                      }}>\r\n                      Login\r\n                    </MenuItem>\r\n                  </NavLink>\r\n                </>\r\n              )}\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { stopSubmit } from 'redux-form'\r\nimport { authAPI, securityAPI } from '../components/api/api'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null, //if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    const { id, login, email } = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    //success, get auth data\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl())\r\n    }\r\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = response.data.url\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/auth-reducer'\r\nimport React from 'react'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validarors'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { minLengthCreator } from './../../utils/validators/validarors'\r\nimport { connect } from 'react-redux'\r\nimport { login } from './../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s from './Login.module.css'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst minLength4 = minLengthCreator(4)\r\nconst minLength8 = minLengthCreator(8)\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <div className={s.login__container}>\r\n      <Paper className={s.login__wrapper}>\r\n        <form onSubmit={props.handleSubmit}>\r\n          <div className={s.name_field__wrapper}>\r\n            <h1>Login</h1>\r\n          </div>\r\n\r\n          <div className={s.email__text_field}>\r\n            <Field\r\n              placeholder={'Email'}\r\n              name={'email'}\r\n              component={Input}\r\n              label={'Email'}\r\n              id={'outlined-basic'}\r\n              variant={'outlined'}\r\n              validate={[required, maxLength20, minLength4]}\r\n            />\r\n          </div>\r\n          <div className={s.password__text_field}>\r\n            <Field\r\n              placeholder={'Password'}\r\n              name={'password'}\r\n              type={'password'}\r\n              component={Input}\r\n              label={'Password'}\r\n              id={'outlined-basic'}\r\n              variant={'outlined'}\r\n              validate={[required, maxLength20, minLength8]}\r\n            />\r\n          </div>\r\n          <div className={s.checkbox}>\r\n            <Field type={'checkbox'} name={'rememberMe'} component={'input'} /> remember me\r\n          </div>\r\n          {props.captchaUrl && (\r\n            <div className={s.captcha__container}>\r\n              <img src={props.captchaUrl} alt='captcha' />\r\n              <Field\r\n                placeholder={'Symbols from image'}\r\n                name={'captcha'}\r\n                component={Input}\r\n                label={'Captcha'}\r\n                id={'outlined-basic'}\r\n                variant={'outlined'}\r\n                validate={[required]}\r\n              />\r\n            </div>\r\n          )}\r\n          {/* captcha */}\r\n          {props.error && <div className={s.form__summary_error}>{props.error}</div>}\r\n          <div className={s.button__wrapper}>\r\n            <button className={s.button}>Login</button>\r\n          </div>\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl: state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const inititalizeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData())\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer'\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store\r\n","import './App.css'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\r\nimport UsersContainer from './components/Users/UsersContainer'\r\nimport ProfileContainer from './components/Profile/ProfileContainer'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport LoginPage from './components/Login/Login'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport { connect } from 'react-redux'\r\nimport { inititalizeApp } from './redux/app-reducer'\r\nimport store from './redux/redux-store'\r\n//import { BrowserRouter as Router} from 'react-router-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport React from 'react'\r\nimport { Paper } from '@material-ui/core'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles'\r\nimport { useEffect } from 'react'\r\n\r\n//theme for Material UI\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2b7a78',\r\n    },\r\n    secondary: {\r\n      main: '#f6fdfc',\r\n    },\r\n  },\r\n})\r\n\r\nconst App = (props) => {\r\n  useEffect(() => {\r\n    props.inititalizeApp()\r\n  })\r\n\r\n  if (!props.initialized) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <Grid container>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <HeaderContainer />\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper color='#f6fdfc'>\r\n              <div className='app-wrapper-content'>\r\n                <Route exact path='/'>\r\n                  <Redirect to='/profile' />\r\n                </Route>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n                <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n                <Route path='/users' render={() => <UsersContainer />} />\r\n                <Route path='/login' render={() => <LoginPage />} />\r\n              </div>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nlet AppContainer = connect(mapStateToProps, { inititalizeApp })(App)\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <React.StrictMode>\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n          <MuiThemeProvider theme={theme}>\r\n            <AppContainer />\r\n          </MuiThemeProvider>\r\n        </Provider>\r\n      </Router>\r\n    </React.StrictMode>\r\n  )\r\n}\r\n\r\nexport default MainApp\r\n","import reportWebVitals from './reportWebVitals'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport MainApp from './App'\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'))\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__container\":\"User_user__container__2znBy\",\"image__container\":\"User_image__container__3OPrH\",\"user__photo\":\"User_user__photo__cIoex\",\"user__details\":\"User_user__details__3OmXh\",\"name__wrapper\":\"User_name__wrapper__2S3RC\",\"name\":\"User_name__1EQay\",\"status__wrapper\":\"User_status__wrapper__2ZJR-\",\"status\":\"User_status__3hEK0\",\"button__wrapper\":\"User_button__wrapper__2sjZ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info__container\":\"ProfileInfo_profile_info__container__1vFZ_\",\"photo__block\":\"ProfileInfo_photo__block__2GliM\",\"photo__wrapper\":\"ProfileInfo_photo__wrapper__Fr4XE\",\"select__image\":\"ProfileInfo_select__image__9cbOX\",\"select__image_input\":\"ProfileInfo_select__image_input__2ZWw7\",\"button__load_image\":\"ProfileInfo_button__load_image__1JmQg\",\"main__photo\":\"ProfileInfo_main__photo__3Wqxx\",\"details__block\":\"ProfileInfo_details__block__f-DIg\",\"name\":\"ProfileInfo_name__2HzSR\",\"status\":\"ProfileInfo_status__dGaxY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__container\":\"Login_login__container__1WodL\",\"login__wrapper\":\"Login_login__wrapper__2UsLk\",\"name_field__wrapper\":\"Login_name_field__wrapper__DmpDo\",\"email__text_field\":\"Login_email__text_field__hajkM\",\"password__text_field\":\"Login_password__text_field__2QwJK\",\"checkbox\":\"Login_checkbox__53ahI\",\"button__wrapper\":\"Login_button__wrapper__2M0Lc\",\"button\":\"Login_button__2rSVP\",\"form__summary_error\":\"Login_form__summary_error__vMQtn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_container\":\"Post_post_container__v3bVU\",\"image__container\":\"Post_image__container__1BxKI\",\"details__container\":\"Post_details__container__3-41N\",\"post__text\":\"Post_post__text__7O1F_\",\"like__wrapper\":\"Post_like__wrapper__weCyI\",\"like\":\"Post_like__1tYJE\",\"icon\":\"Post_icon__19IIe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__container\":\"MyPosts_posts__container__33aHP\",\"posts__wrapper\":\"MyPosts_posts__wrapper__1JKCc\",\"posts\":\"MyPosts_posts__2alx6\",\"form_post__container\":\"MyPosts_form_post__container__2zLws\",\"form_post\":\"MyPosts_form_post__fDd11\",\"add__post_field\":\"MyPosts_add__post_field__2pL6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2hrN5\",\"page__number\":\"Paginator_page__number__2c2gs\",\"page__selected\":\"Paginator_page__selected__3sk80\",\"button\":\"Paginator_button__2sN4l\"};"],"sourceRoot":""}