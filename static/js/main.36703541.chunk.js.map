{"version":3,"sources":["components/Profile/Posts/MyPosts.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/common/UsersLogo/UserLogo.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","components/Users/User/User.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","redux/dialogs-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","utils/validators/validarors.js","components/common/FormsControls/FormsControls.jsx","components/common/Buttons/Buttons.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","components/api/api.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.png","components/Users/User/User.jsx","components/Users/Users.jsx","assets/images/preloader.svg","components/common/Preloader/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/common/UsersLogo/UserLogo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/MyPosts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Login/Login.module.css","components/Profile/Posts/Post/Post.module.css","components/common/Paginator/Paginator.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","menu","item","link","activeClassName","active","to","Divider","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","DialogItem","props","dialog__item","Message","required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","child","hasError","touched","error","form__control","children","Textarea","restProps","Input","TextField","ColorButton","withStyles","theme","root","color","backgroundColor","maxWidth","Button","maxLength50","makeStyles","margin","spacing","reduxForm","form","form__message","onSubmit","handleSubmit","Field","add__message_field","component","validate","placeholder","wrapper__button","variant","add__message_button","Dialogs","dialogsPage","dialogsElements","map","d","messagesElements","m","isAuth","dialogs__container","dialogs__items","messages__container","message__item","message__send_field","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","instance","axios","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","userId","post","delete","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","user","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","previous__button","onClick","page","classnames","page__selected","page__number","e","next__button","User","Card","user__container","CardMedia","image__container","title","user__photo","src","photos","small","userPhoto","alt","CardContent","user__details","Typography","name__wrapper","status__wrapper","CardActions","button__wrapper","button","disabled","some","unfollow","follow","Users","users__container","users__wrapper","Preloader","preloader","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","a","resultCode","items","totalCount","ProfileStatus","editMode","setEditMode","setStatus","useEffect","status__input","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileInfo","profile","Paper","profile_info__container","photo__block","photo__wrapper","isOwner","select__image","accept","select__image_input","target","files","htmlFor","IconButton","button__load_image","aria-label","main__photo","large","details__block","block__status_name","fullName","aboutMe","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","profileReducer","newPost","newPostText","p","postId","UserLogo","user__logo","Post","post_container","details__container","post__text","like__wrapper","like","icon","maxLength70","AddNewPostFormRedux","postForm","MyPosts","postsElements","posts__block","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","authorizedUserId","getUserProfile","withRouter","match","params","history","Header","anchorEl","setAnchorEl","open","Boolean","handleClose","AppBar","header","position","Toolbar","edge","login__block","aria-controls","aria-haspopup","event","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","login","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","maxLength20","minLength4","minLength8","LoginReduxForm","login__wrapper","login__form","email__text_field","label","password__text_field","checkbox","captcha__container","form__summary_error","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","createTheme","palette","primary","main","secondary","AppContainer","inititalizeApp","Grid","container","xs","path","render","DialogsContainer","MainApp","StrictMode","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.36703541.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__block\":\"MyPosts_posts__block__1AIqz\",\"posts\":\"MyPosts_posts__2alx6\",\"form__post\":\"MyPosts_form__post__1NTmM\",\"add__post_field\":\"MyPosts_add__post_field__2pL6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1qgC_\",\"title\":\"Header_title__2VfwY\",\"login__button\":\"Header_login__button__1K9WG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"FormsControls_form__control__mwhBB\",\"error\":\"FormsControls_error__1VXKM\",\"form__summary_error\":\"FormsControls_form__summary_error__2itv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"Users_users__container__aGTZd\",\"users__wrapper\":\"Users_users__wrapper__1U53-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3QxHB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2n60n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status__input\":\"ProfileStatus_status__input__3Dd6y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__logo\":\"UserLogo_user__logo__2zm__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__t1fqB\",\"link\":\"Navbar_link__37ms-\",\"item\":\"Navbar_item__2B-yV\",\"active\":\"Navbar_active__U22O7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs__container\":\"Dialogs_dialogs__container__3YAGs\",\"dialogs__items\":\"Dialogs_dialogs__items__3pOfC\",\"dialog__item\":\"Dialogs_dialog__item__8oPjS\",\"link\":\"Dialogs_link__H-dq0\",\"messages__container\":\"Dialogs_messages__container__2p-C5\",\"message__item\":\"Dialogs_message__item__10xUV\",\"message__send_field\":\"Dialogs_message__send_field__1KUlR\",\"form__message\":\"Dialogs_form__message__14rZo\",\"add__message_field\":\"Dialogs_add__message_field__3NNCC\",\"add__message_button\":\"Dialogs_add__message_button__1llDe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__container\":\"User_user__container__2znBy\",\"image__container\":\"User_image__container__3OPrH\",\"user__photo\":\"User_user__photo__cIoex\",\"user__details\":\"User_user__details__3OmXh\",\"name__wrapper\":\"User_name__wrapper__2S3RC\",\"name\":\"User_name__1EQay\",\"status__wrapper\":\"User_status__wrapper__2ZJR-\",\"status\":\"User_status__3hEK0\",\"button__wrapper\":\"User_button__wrapper__2sjZ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info__container\":\"ProfileInfo_profile_info__container__1vFZ_\",\"photo__block\":\"ProfileInfo_photo__block__2GliM\",\"photo__wrapper\":\"ProfileInfo_photo__wrapper__Fr4XE\",\"select__image\":\"ProfileInfo_select__image__9cbOX\",\"select__image_input\":\"ProfileInfo_select__image_input__2ZWw7\",\"button__load_image\":\"ProfileInfo_button__load_image__1JmQg\",\"main__photo\":\"ProfileInfo_main__photo__3Wqxx\",\"details__block\":\"ProfileInfo_details__block__f-DIg\",\"block__status_name\":\"ProfileInfo_block__status_name__2EUik\",\"name\":\"ProfileInfo_name__2HzSR\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\nimport Divider from '@material-ui/core/Divider'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.menu}>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/profile'>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/dialogs'>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/users'>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/music'>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/weather'>\r\n          Weather\r\n        </NavLink>\r\n      </div>\r\n      <Divider />\r\n\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} to='/settings'>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","const SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: '1' },\r\n    { id: 2, name: '2' },\r\n    { id: 3, name: '3' },\r\n    { id: 4, name: '4' },\r\n    { id: 5, name: '5' },\r\n    { id: 6, name: '6' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'hi' },\r\n    { id: 2, message: 'hello' },\r\n    { id: 3, message: 'privet' },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 4, message: body }],\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog__item}>\r\n      <NavLink className={s.link} activeClassName={s.active} to={'/dialogs/' + props.id}>\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem\r\n","import s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message\r\n","export const required = (value) => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'Field is required!'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n  if (value.length < minLength) {\r\n    return `Min length is ${minLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n","import s from './FormsControls.module.css'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n    <div className={s.form__control + ' ' + (hasError ? s.error : '')}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <TextField {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n","import { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport const ColorButton = withStyles((theme) => ({\r\n  root: {\r\n    color: '#def2f1',\r\n    backgroundColor: '#2b7a78',\r\n    maxWidth: '250px',\r\n    '&:hover': {\r\n      backgroundColor: '#33918d',\r\n    },\r\n  },\r\n}))(Button)\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}))\r\n\r\n// export default function CustomizedButtons() {\r\n//   const classes = useStyles()\r\n\r\n//   const useStyles = makeStyles((theme) => ({\r\n//     margin: {\r\n//       margin: theme.spacing(1),\r\n//     },\r\n//   }))\r\n\r\n//   return (\r\n//     <div>\r\n//       <ColorButton variant='contained' color='primary' className={classes.margin}>\r\n//         Custom CSS\r\n//       </ColorButton>\r\n//     </div>\r\n//   )\r\n// }\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validarors'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport s from './../Dialogs.module.css'\r\nimport { ColorButton } from '../../common/Buttons/Buttons'\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form className={s.form__message} onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          className={s.add__message_field}\r\n          component={Textarea}\r\n          validate={[required, maxLength50]}\r\n          placeholder='Enter your message'\r\n          name='newMessageBody'\r\n        />\r\n      </div>\r\n      <div className={s.wrapper__button}>\r\n        <ColorButton variant='contained' color='primary' className={s.add__message_button}>\r\n          Send\r\n        </ColorButton>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\nexport default reduxForm({ form: 'dialog-add-message-form' })(AddMessageForm)\r\n","import s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport { Redirect } from 'react-router-dom'\r\nimport AddMessageForm from './AddMessageForm/AddMessageForm'\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.dialogsPage\r\n\r\n  let dialogsElements = state.dialogs.map((d) => <DialogItem name={d.name} key={d.id} id={d.id} />)\r\n  let messagesElements = state.messages.map((m) => <Message message={m.message} key={m.id} />)\r\n  let newMessageBody = state.newMessageBody\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageBody)\r\n  }\r\n\r\n  if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n  return (\r\n    <div className={s.dialogs__container}>\r\n      <div className={s.dialogs__items}>{dialogsElements}</div>\r\n      <div className={s.messages__container}>\r\n        <div className={s.message__item}>{messagesElements}</div>\r\n        <div className={s.message__send_field}>\r\n          <AddMessageForm onSubmit={addNewMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) return <Redirect to='/login' />\r\n\r\n    return <Component {...props} />\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","import { sendMessageCreator } from '../../redux/dialogs-reducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageCreator(newMessageBody))\r\n    },\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'd334ed35-7c2b-4f86-86db-09775214dcba',\r\n  },\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then((response) => {\r\n      return response.data\r\n    })\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please profileAPI object.')\r\n    return profileAPI.getProfile(userId)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status })\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n    return instance.put(`profile/photo`, formData)\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  },\r\n}\r\n","import { usersAPI } from '../components/api/api'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage }\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.follow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(followSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.unfollow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(unfollowSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import s from './Paginator.module.css'\r\nimport { useState } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n  const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n  const pages = [] //create array of pages\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  //indexing each page and writing to an array\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize)\r\n  const [portionNumber, setPortionNumber] = useState(1) //portion control\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1 //left portion border\r\n  const rightPortionPageNumber = portionNumber * portionSize //right portion border\r\n\r\n  return (\r\n    <div className={s.paginator}>\r\n      {portionNumber > 1 && ( // button (previous) appears if we are not on the first portion\r\n        <button\r\n          className={s.previous__button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1) //showing the previous portion\r\n          }}\r\n        >\r\n          prev\r\n        </button>\r\n      )}\r\n      {/* Filtering pages: pages within the portion range and maps render item */}\r\n      {pages\r\n        .filter((page) => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map((page) => {\r\n          return (\r\n            <button\r\n              className={classnames(\r\n                {\r\n                  [s.page__selected]: currentPage === page, //if the page is current - className = page__selected\r\n                },\r\n                s.page__number //else className = page__number\r\n              )}\r\n              key={page}\r\n              onClick={(e) => {\r\n                onPageChanged(page) //redirection to the page\r\n              }}\r\n            >\r\n              {page}\r\n            </button>\r\n          )\r\n        })}\r\n      {portionCount > portionNumber && ( // button (next) appears if we are not on the last portion\r\n        <button\r\n          className={s.next__button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1) //showing the next portion\r\n          }}\r\n        >\r\n          next\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","export default __webpack_public_path__ + \"static/media/user.db93928b.png\";","import s from './User.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <Card className={s.user__container}>\r\n      <CardMedia className={s.image__container} title='user profile'>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img className={s.user__photo} src={user.photos.small != null ? user.photos.small : userPhoto} alt='user' />\r\n        </NavLink>\r\n      </CardMedia>\r\n      <CardContent className={s.user__details}>\r\n        <Typography className={s.name__wrapper} component='h3' variant='h3'>\r\n          <div className={s.name}>{user.name}</div>\r\n        </Typography>\r\n        <Typography className={s.status__wrapper} variant='subtitle1' color='textSecondary'>\r\n          <div className={s.status}>{user.status}</div>\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions className={s.button__wrapper}>\r\n        {user.followed ? (\r\n          <Button\r\n            variant='outlined'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.unfollow(user.id)\r\n            }}\r\n          >\r\n            Unfollow\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant='contained'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.follow(user.id)\r\n            }}\r\n          >\r\n            Follow\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import Paginator from '../common/Paginator/Paginator'\r\nimport User from './User/User'\r\nimport s from './Users.module.css'\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.users__container}>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n      />\r\n      <div className={s.users__wrapper}>\r\n        {props.users.map((user) => (\r\n          <User\r\n            user={user}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n            key={user.id}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","export default __webpack_public_path__ + \"static/media/preloader.a6f61220.svg\";","import preloader from '../../../assets/images/preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div className={s.preloader}>\r\n      <img src={preloader} alt='preloader' />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n","import { connect } from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer'\r\nimport React from 'react'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors'\r\nimport { getIsFetching } from './../../redux/users-selectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers })\r\n)(UsersContainer)\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => setEditMode(true)\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div className={s.status__input}>\r\n      {!editMode && (\r\n        <span>\r\n          <span onDoubleClick={activateEditMode}>{props.status || '----'}</span>\r\n        </span>\r\n      )}\r\n      {editMode && (\r\n        <span>\r\n          <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus\r\n","import Preloader from '../../common/Preloader/Preloader'\r\nimport s from './ProfileInfo.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper className={s.profile_info__container}>\r\n      <div className={s.photo__block}>\r\n        <div className={s.photo__wrapper}>\r\n          {props.isOwner && (\r\n            <div className={s.select__image}>\r\n              <input\r\n                accept='image/*'\r\n                className={s.select__image_input}\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={onMainPhotoSelected}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton className={s.button__load_image} color='primary' aria-label='upload picture' component='div'>\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </div>\r\n          )}\r\n          <img\r\n            className={s.main__photo}\r\n            src={props.profile.photos.large != null ? props.profile.photos.large : userPhoto}\r\n            alt=''\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={s.details__block}>\r\n        <div className={s.block__status_name}>\r\n          <h1 className={s.name}>{props.profile.fullName}</h1>\r\n\r\n          <h3>Status: {props.profile.aboutMe}</h3>\r\n          <ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  )\r\n}\r\nexport default ProfileInfo\r\n","import { profileAPI, usersAPI } from '../components/api/api'\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'hi', likesCount: 12 },\r\n    { id: 2, message: 'hello', likesCount: 5 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return { ...state, posts: state.posts.filter((p) => p.id !== action.postId) }\r\n    }\r\n\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      }\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos))\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import userPhoto from '../../../assets/images/user.png'\r\nimport s from './UserLogo.module.css'\r\n\r\nconst UserLogo = (props) => {\r\n  return <img className={s.user__logo} src={userPhoto} alt='user logo' />\r\n}\r\n\r\nexport default UserLogo\r\n","import s from './Post.module.css'\r\nimport UserLogo from '../../../common/UsersLogo/UserLogo'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport FavoriteBorderRoundedIcon from '@material-ui/icons/FavoriteBorderRounded'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <Card className={s.post_container}>\r\n      <CardMedia className={s.image__container} title='user'>\r\n        <UserLogo profile={props.profile} />\r\n      </CardMedia>\r\n      <div className={s.details__container}>\r\n        <CardContent>\r\n          <div className={s.post__text}>{props.message}</div>\r\n        </CardContent>\r\n        <CardActions className={s.like__wrapper}>\r\n          <div className={s.like}>\r\n            <FavoriteBorderRoundedIcon className={s.icon} />\r\n          </div>\r\n          {/* <span>{props.likesCount}</span> */}\r\n        </CardActions>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import { React } from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validarors'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\n\r\nconst maxLength70 = maxLengthCreator(70)\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className={s.postForm}>\r\n        <Field component={Textarea} name='newPostText' validate={[required, maxLength70]} />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm)\r\n\r\nconst MyPosts = (props) => {\r\n  let postsElements = props.posts.map((post) => (\r\n    <Post profile={props.profile} message={post.message} likesCount={post.likesCount} />\r\n  ))\r\n\r\n  const onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n\r\n  return (\r\n    <div className={s.posts__block}>\r\n      <h3>My posts</h3>\r\n      <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts\r\n","import { connect } from 'react-redux'\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    },\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './Posts/MyPostsContainer'\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={s.profile}>\r\n      <ProfileInfo\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer users={props.users} profile={props.profile} />\r\n    </div>\r\n  )\r\n}\r\nexport default Profile\r\n","import Profile from './Profile'\r\nimport React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport { savePhoto } from './../../redux/profile-reducer'\r\n\r\nconst ProfileContainer = (props) => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId\r\n\r\n    if (!userId) {\r\n      userId = props.authorizedUserId\r\n      if (!userId) {\r\n        props.history.push('/login')\r\n      }\r\n    }\r\n    props.getUserProfile(userId)\r\n    props.getStatus(userId)\r\n  })\r\n\r\n  return (\r\n    <Profile\r\n      {...props}\r\n      isOwner={!props.match.params.userId}\r\n      profile={props.profile}\r\n      status={props.status}\r\n      updateStatus={props.updateStatus}\r\n      savePhoto={props.savePhoto}\r\n    />\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n  withRouter\r\n)(ProfileContainer)\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\nimport React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\n\r\nconst Header = (props) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null)\r\n  const open = Boolean(anchorEl)\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <AppBar className={s.header} position='static'>\r\n        <Toolbar>\r\n          <IconButton edge='start' color='inherit' aria-label='menu'>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant='h6' className={s.title}>\r\n            HydroBee\r\n          </Typography>\r\n\r\n          <div className={s.login__block}>\r\n            <IconButton\r\n              aria-label='account of current user'\r\n              aria-controls='menu-appbar'\r\n              aria-haspopup='true'\r\n              onClick={handleMenu}\r\n              color='inherit'\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id='menu-appbar'\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}\r\n            >\r\n              {props.isAuth ? (\r\n                <>\r\n                  <NavLink to='/profile'>\r\n                    <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                  </NavLink>\r\n                  <MenuItem onClick={props.logout}>Log out</MenuItem>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <NavLink to={'/login'}>\r\n                    <MenuItem onClick={handleClose}>Login</MenuItem>\r\n                  </NavLink>\r\n                </>\r\n              )}\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { stopSubmit } from 'redux-form'\r\nimport { authAPI, securityAPI } from '../components/api/api'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null, //if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    const { id, login, email } = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    //success, get auth data\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl())\r\n    }\r\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = response.data.url\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/auth-reducer'\r\nimport React from 'react'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validarors'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { minLengthCreator } from './../../utils/validators/validarors'\r\nimport { connect } from 'react-redux'\r\nimport { login } from './../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s from './Login.module.css'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst minLength4 = minLengthCreator(4)\r\nconst minLength8 = minLengthCreator(8)\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <div className={s.login__wrapper}>\r\n      <h1>Login</h1>\r\n      <form className={s.login__form} onSubmit={props.handleSubmit}>\r\n        <div className={s.email__text_field}>\r\n          <Field\r\n            placeholder={'Email'}\r\n            name={'email'}\r\n            component={Input}\r\n            label={'Email'}\r\n            id={'outlined-basic'}\r\n            variant={'outlined'}\r\n            validate={[required, maxLength20, minLength4]}\r\n          />\r\n        </div>\r\n        <div className={s.password__text_field}>\r\n          <Field\r\n            placeholder={'Password'}\r\n            name={'password'}\r\n            type={'password'}\r\n            component={Input}\r\n            label={'Password'}\r\n            id={'outlined-basic'}\r\n            variant={'outlined'}\r\n            validate={[required, maxLength20, minLength8]}\r\n          />\r\n        </div>\r\n        <div className={s.checkbox}>\r\n          <Field type={'checkbox'} name={'rememberMe'} component={'input'} /> remember me\r\n        </div>\r\n        {props.captchaUrl && (\r\n          <div className={s.captcha__container}>\r\n            <img src={props.captchaUrl} alt='captcha' />\r\n            <Field\r\n              placeholder={'Symbols from image'}\r\n              name={'captcha'}\r\n              component={Input}\r\n              label={'Captcha'}\r\n              id={'outlined-basic'}\r\n              variant={'outlined'}\r\n              validate={[required]}\r\n            />\r\n          </div>\r\n        )}\r\n        {/* captcha */}\r\n        {props.error && <div className={s.form__summary_error}>{props.error}</div>}\r\n        <div className={s.button__wrapper}>\r\n          <button className={s.button}>Login</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl: state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const inititalizeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData())\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer'\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store\r\n","import './App.css'\r\nimport Navbar from './components/Navbar/Navbar'\r\nimport { Route } from 'react-router-dom'\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\r\nimport UsersContainer from './components/Users/UsersContainer'\r\nimport ProfileContainer from './components/Profile/ProfileContainer'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport LoginPage from './components/Login/Login'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport { connect } from 'react-redux'\r\nimport { inititalizeApp } from './redux/app-reducer'\r\nimport store from './redux/redux-store'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport React from 'react'\r\nimport { Paper } from '@material-ui/core'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles'\r\nimport { useEffect } from 'react'\r\n\r\n//theme for Material UI\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2b7a78',\r\n    },\r\n    secondary: {\r\n      main: '#f6fdfc',\r\n    },\r\n  },\r\n})\r\n\r\nconst App = (props) => {\r\n  useEffect(() => {\r\n    props.inititalizeApp()\r\n  })\r\n\r\n  if (!props.initialized) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <Grid container maxWidth='sm'>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <HeaderContainer />\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Paper>\r\n              <Navbar />\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={9}>\r\n            <Paper color='#f6fdfc'>\r\n              <div className='app-wrapper-content'>\r\n                <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n                <Route path='/users' render={() => <UsersContainer />} />\r\n                <Route path='/login' render={() => <LoginPage />} />\r\n              </div>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nlet AppContainer = connect(mapStateToProps, { inititalizeApp })(App)\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <React.StrictMode>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n          <MuiThemeProvider theme={theme}>\r\n            <AppContainer />\r\n          </MuiThemeProvider>\r\n        </Provider>\r\n      </BrowserRouter>\r\n    </React.StrictMode>\r\n  )\r\n}\r\n\r\nexport default MainApp\r\n","import reportWebVitals from './reportWebVitals'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport MainApp from './App'\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'))\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__wrapper\":\"Login_login__wrapper__2UsLk\",\"login__form\":\"Login_login__form__3mYlt\",\"email__text_field\":\"Login_email__text_field__hajkM\",\"password__text_field\":\"Login_password__text_field__2QwJK\",\"checkbox\":\"Login_checkbox__53ahI\",\"button__wrapper\":\"Login_button__wrapper__2M0Lc\",\"button\":\"Login_button__2rSVP\",\"form__summary_error\":\"Login_form__summary_error__vMQtn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_container\":\"Post_post_container__v3bVU\",\"image__container\":\"Post_image__container__1BxKI\",\"details__container\":\"Post_details__container__3-41N\",\"post__text\":\"Post_post__text__7O1F_\",\"like__wrapper\":\"Post_like__wrapper__weCyI\",\"like\":\"Post_like__1tYJE\",\"icon\":\"Post_icon__19IIe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2hrN5\",\"page__selected\":\"Paginator_page__selected__3sk80\",\"page__number\":\"Paginator_page__number__2c2gs\",\"previous__button\":\"Paginator_previous__button__3Kilv\",\"next__button\":\"Paginator_next__button__iXX6B\"};"],"sourceRoot":""}