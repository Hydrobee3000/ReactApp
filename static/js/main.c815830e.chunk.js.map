{"version":3,"sources":["components/common/Paginator/Paginator.module.css","components/Profile/Posts/Post/Post.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","components/Users/Users.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","redux/dialogs-reducer.ts","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","utils/validators/validarors.js","components/common/FormsControls/FormsControls.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx","components/api/api.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.png","components/Users/User/User.jsx","components/Users/Users.jsx","assets/images/preloader.svg","components/common/Preloader/Preloader.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/Posts/AddNewPost/AddNewPostForm.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/MyPosts.jsx","components/Profile/Posts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.ts","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.ts","redux/sidebar-reducer.js","redux/redux-store.js","components/Weather/Weather.jsx","components/Converter/Converter.jsx","components/Alarm/Alarm.jsx","App.js","index.js","components/Dialogs/Dialogs.module.css","components/Users/User/User.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Login/Login.module.css","components/Profile/Posts/MyPosts.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","DialogItem","props","className","s","dialog__item","link","activeClassName","active","to","Avatar","sx","width","height","Message","TextField","value","required","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","child","hasError","touched","error","form__control","children","Textarea","restProps","Input","reduxForm","form","form__message","onSubmit","handleSubmit","Field","add__message_field","component","placeholder","Button","add__message_button","variant","color","onClick","Dialogs","dialogsPage","dialogsElements","map","d","messagesElements","m","isAuth","Grid","container","dialogs__container","dialogs__items","item","xs","messages__container","Stack","message__item","spacing","message__send_field","AppBar","position","top","bottom","backgroundColor","Toolbar","style","alignSelf","values","sendMessage","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","instance","axios","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","userId","post","delete","console","warn","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","user","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","button","page","classnames","page__selected","page__number","e","User","Card","user__container","CardMedia","image__container","title","user__photo","src","photos","small","userPhoto","alt","CardContent","user__details","Typography","name__wrapper","status__wrapper","CardActions","button__wrapper","disabled","some","unfollow","follow","Users","users__container","users__wrapper","Preloader","preloader","preloader__image","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","a","resultCode","items","totalCount","ProfileStatus","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileInfo","Paper","profile_info__container","photo__block","photo__wrapper","isOwner","select__image","accept","select__image_input","target","files","htmlFor","IconButton","button__load_image","aria-label","main__photo","profile","large","details__block","gutterBottom","fullName","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","profileReducer","newPost","newPostText","p","postId","maxLength100","AddNewPostFormRedux","add_post__field","validate","Post","post_container","CardHeader","avatar","subheader","details__container","post__like__wrapper","like","post__text","MyPosts","postsElements","posts__container","form_post__container","addPost","MyPostsContainer","profilePage","addPostActionCreator","Profile","MemoizedProfile","memo","authorizedUserId","getUserProfile","withRouter","match","params","history","Navbar","menu","onClose","Header","anchor","setAnchor","open","Boolean","menuBar","setMenuBar","toggleDrawer","isOpenBar","event","key","header","edge","SwipeableDrawer","onOpen","login__block","aria-controls","aria-haspopup","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","login","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","maxLength20","minLength4","minLength8","LoginReduxForm","login__container","login__wrapper","name_field__wrapper","email__text_field","label","password__text_field","checkbox","captcha__container","form__summary_error","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Weather","paddingLeft","paddingTop","Link","href","Converter","Alarm","theme","createTheme","palette","primary","main","secondary","AppContainer","inititalizeApp","exact","path","render","DialogsContainer","MainApp","StrictMode","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c815830e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2hrN5\",\"page__number\":\"Paginator_page__number__2c2gs\",\"page__selected\":\"Paginator_page__selected__3sk80\",\"button\":\"Paginator_button__2sN4l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post_container\":\"Post_post_container__v3bVU\",\"details__container\":\"Post_details__container__3-41N\",\"post__text\":\"Post_post__text__7O1F_\",\"post__like__wrapper\":\"Post_post__like__wrapper__cBwHY\",\"like\":\"Post_like__1tYJE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1qgC_\",\"title\":\"Header_title__2VfwY\",\"login__button\":\"Header_login__button__1K9WG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__control\":\"FormsControls_form__control__mwhBB\",\"error\":\"FormsControls_error__1VXKM\",\"form__summary_error\":\"FormsControls_form__summary_error__2itv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users__container\":\"Users_users__container__aGTZd\",\"users__wrapper\":\"Users_users__wrapper__1U53-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3QxHB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2n60n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__2AM9E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__t1fqB\",\"link\":\"Navbar_link__37ms-\",\"item\":\"Navbar_item__2B-yV\",\"active\":\"Navbar_active__U22O7\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\nconst initialState = {\r\n  dialogs: [\r\n    { id: 1, name: '1' },\r\n    { id: 2, name: '2' },\r\n    { id: 3, name: '3' },\r\n    { id: 4, name: '4' },\r\n    { id: 5, name: '5' },\r\n    { id: 6, name: '6' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'Never' },\r\n    { id: 2, message: 'Gonna' },\r\n    { id: 3, message: 'Give You Up' },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 4, message: body }],\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody: any) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\nimport Avatar from '@mui/material/Avatar'\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog__item}>\r\n      <NavLink className={s.link} activeClassName={s.active} to={'/dialogs/' + props.id}>\r\n        <Avatar sx={{ width: 56, height: 56 }}>{props.name}</Avatar>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogItem\r\n","import s from './../Dialogs.module.css'\r\nimport TextField from '@mui/material/TextField'\r\n\r\nconst Message = (props) => {\r\n  return <TextField id='outlined-name' className={s.message} value={props.message} />\r\n}\r\n\r\nexport default Message\r\n","export const required = (value) => {\r\n  if (value) {\r\n    return undefined\r\n  }\r\n  return 'Field is required!'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) {\r\n    return `Max length is ${maxLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n  if (value.length < minLength) {\r\n    return `Min length is ${minLength} characters`\r\n  }\r\n  return undefined\r\n}\r\n","import s from './FormsControls.module.css'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasError = meta.touched && meta.error\r\n  return (\r\n    <div className={s.form__control + ' ' + (hasError ? s.error : '')}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props\r\n  return (\r\n    <FormControl {...props}>\r\n      <TextField {...input} {...restProps} />\r\n    </FormControl>\r\n  )\r\n}\r\n","import { Button } from '@material-ui/core'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validarors'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form className={s.form__message} onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          className={s.add__message_field}\r\n          component={Textarea}\r\n          // validate={[required, maxLength50]}\r\n          placeholder='Enter your message'\r\n          name='newMessageBody'\r\n        />\r\n      </div>\r\n      <Button className={s.add__message_button} variant='contained' color='middle' onClick={props.handleSubmit}>\r\n        Send\r\n      </Button>\r\n    </form>\r\n  )\r\n}\r\nexport default reduxForm({ form: 'dialog-add-message-form' })(AddMessageForm)\r\n","import s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport { Redirect } from 'react-router-dom'\r\nimport AddMessageForm from './AddMessageForm/AddMessageForm'\r\nimport Grid from '@mui/material/Grid'\r\nimport AppBar from '@mui/material/AppBar'\r\nimport Toolbar from '@mui/material/Toolbar'\r\nimport Stack from '@mui/material/Stack'\r\n\r\nconst Dialogs = (props) => {\r\n  let state = props.dialogsPage\r\n\r\n  let dialogsElements = state.dialogs.map((d) => <DialogItem name={d.name} key={d.id} id={d.id} />)\r\n  let messagesElements = state.messages.map((m) => <Message message={m.message} key={m.id} />)\r\n\r\n  let addNewMessage = (values) => {\r\n    props.sendMessage(values.newMessageBody)\r\n    values.newMessageBody = ''\r\n  }\r\n\r\n  if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n  return (\r\n    <Grid container className={s.dialogs__container}>\r\n      <Grid className={s.dialogs__items} item xs={2}>\r\n        {dialogsElements}\r\n      </Grid>\r\n      <Grid className={s.messages__container} item xs={10}>\r\n        <Stack className={s.message__item} spacing={2}>\r\n          {messagesElements}\r\n        </Stack>\r\n        <div className={s.message__send_field}>{/* <AddMessageForm onSubmit={addNewMessage} /> */}</div>\r\n        <AppBar position='fixed' sx={{ top: 'auto', bottom: 0, backgroundColor: '#546e6d' }}>\r\n          <Toolbar style={{ alignSelf: 'center' }}>\r\n            <AddMessageForm onSubmit={addNewMessage} />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Dialogs\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) return <Redirect to='/login' />\r\n\r\n    return <Component {...props} />\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent\r\n}\r\n","import { sendMessageCreator } from '../../redux/dialogs-reducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageCreator(newMessageBody))\r\n    },\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs)\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'd334ed35-7c2b-4f86-86db-09775214dcba',\r\n  },\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then((response) => {\r\n      return response.data\r\n    })\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please profileAPI object.')\r\n    return profileAPI.getProfile(userId)\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status })\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData()\r\n    formData.append('image', file)\r\n    return instance.put(`profile/photo`, formData)\r\n  },\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  },\r\n}\r\n","import { usersAPI } from '../components/api/api'\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 12,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false }\r\n          }\r\n          return user\r\n        }),\r\n      }\r\n\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage }\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.count }\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.follow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(followSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersAPI.unfollow(userId)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(unfollowSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n","import s from './Paginator.module.css'\r\nimport { useState } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 5 }) => {\r\n  const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n  const pages = [] //create array of pages\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  //indexing each page and writing to an array\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize)\r\n  const [portionNumber, setPortionNumber] = useState(1) //portion control\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1 //left portion border\r\n  const rightPortionPageNumber = portionNumber * portionSize //right portion border\r\n\r\n  return (\r\n    <div className={s.paginator}>\r\n      {portionNumber > 1 && ( // button (previous) appears if we are not on the first portion\r\n        <button\r\n          className={s.button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1) //showing the previous portion\r\n          }}>\r\n          prev\r\n        </button>\r\n      )}\r\n      {/* Filtering pages: pages within the portion range and maps render item */}\r\n      {pages\r\n        .filter((page) => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map((page) => {\r\n          return (\r\n            <button\r\n              className={classnames(\r\n                {\r\n                  [s.page__selected]: currentPage === page, //if the page is current - className = page__selected\r\n                },\r\n                s.page__number //and className = page__number\r\n              )}\r\n              key={page}\r\n              onClick={(e) => {\r\n                onPageChanged(page) //redirection to the page\r\n              }}>\r\n              {page}\r\n            </button>\r\n          )\r\n        })}\r\n      {portionCount > portionNumber && ( // button (next) appears if we are not on the last portion\r\n        <button\r\n          className={s.button}\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1) //showing the next portion\r\n          }}>\r\n          next\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","export default __webpack_public_path__ + \"static/media/user.db93928b.png\";","import s from './User.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst User = ({ user, ...props }) => {\r\n  return (\r\n    <Card className={s.user__container}>\r\n      <CardMedia className={s.image__container} title='user profile'>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img className={s.user__photo} src={user.photos.small != null ? user.photos.small : userPhoto} alt='user' />\r\n        </NavLink>\r\n      </CardMedia>\r\n      <CardContent className={s.user__details}>\r\n        <Typography className={s.name__wrapper} component='h3' variant='h3'>\r\n          <div className={s.name}>{user.name}</div>\r\n        </Typography>\r\n        <Typography className={s.status__wrapper} variant='subtitle1' color='textSecondary'>\r\n          <div className={s.status}>{user.status}</div>\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions className={s.button__wrapper}>\r\n        {user.followed ? (\r\n          <Button\r\n            variant='outlined'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.unfollow(user.id)\r\n            }}\r\n          >\r\n            Unfollow\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            variant='contained'\r\n            color='middle'\r\n            className={s.button}\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.follow(user.id)\r\n            }}\r\n          >\r\n            Follow\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import Paginator from '../common/Paginator/Paginator'\r\nimport User from './User/User'\r\nimport s from './Users.module.css'\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div className={s.users__container}>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n      />\r\n      <div className={s.users__wrapper}>\r\n        {props.users.map((user) => (\r\n          <User\r\n            user={user}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n            key={user.id}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","export default __webpack_public_path__ + \"static/media/preloader.a6f61220.svg\";","import preloader from '../../../assets/images/preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div className={s.preloader}>\r\n      <img className={s.preloader__image} src={preloader} alt='preloader' />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n","import { connect } from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer'\r\nimport React from 'react'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { compose } from 'redux'\r\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers } from '../../redux/users-selectors'\r\nimport { getIsFetching } from './../../redux/users-selectors'\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers })\r\n)(UsersContainer)\r\n","import React, { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport s from './ProfileStatus.module.css'\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => setEditMode(true)\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false)\r\n    props.updateStatus(status)\r\n  }\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n\r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode && (\r\n        <span>\r\n          <span onDoubleClick={activateEditMode}>{props.status || '----'}</span>\r\n        </span>\r\n      )}\r\n      {editMode && (\r\n        <span>\r\n          <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} />\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus\r\n","import s from './ProfileInfo.module.css'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport { Paper } from '@material-ui/core'\r\nimport Typography from '@mui/material/Typography'\r\n\r\nconst ProfileInfo = (props) => {\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper className={s.profile_info__container}>\r\n      <div className={s.photo__block}>\r\n        <div className={s.photo__wrapper}>\r\n          {props.isOwner && (\r\n            <div className={s.select__image}>\r\n              <input\r\n                accept='image/*'\r\n                className={s.select__image_input}\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={onMainPhotoSelected}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton className={s.button__load_image} color='primary' aria-label='upload picture' component='div'>\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </div>\r\n          )}\r\n          <img\r\n            className={s.main__photo}\r\n            src={props.profile.photos.large != null ? props.profile.photos.large : userPhoto}\r\n            alt=''\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={s.details__block}>\r\n        <Typography className={s.name} variant='h4' gutterBottom component='div'>\r\n          {props.profile.fullName}\r\n        </Typography>\r\n        <Typography className={s.status} variant='p' gutterBottom component='div'>\r\n          <ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n        </Typography>\r\n      </div>\r\n    </Paper>\r\n  )\r\n}\r\nexport default ProfileInfo\r\n","import { profileAPI, usersAPI } from '../components/api/api'\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'hi', likesCount: 12 },\r\n    { id: 2, message: 'hello', likesCount: 5 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return { ...state, posts: state.posts.filter((p) => p.id !== action.postId) }\r\n    }\r\n\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      }\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos))\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { Button } from '@material-ui/core'\r\nimport { Textarea } from './../../../common/FormsControls/FormsControls'\r\nimport { required, maxLengthCreator } from './../../../../utils/validators/validarors'\r\nimport s from './../MyPosts.module.css'\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field className={s.add_post__field} component={Textarea} name='newPostText' validate={[required, maxLength100]} />\r\n      </div>\r\n      <div>\r\n        <Button variant='outlined' onClick={props.handleSubmit}>\r\n          Add post\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm)\r\n\r\nexport default AddNewPostFormRedux\r\n","import s from './Post.module.css'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport FavoriteBorderRoundedIcon from '@material-ui/icons/FavoriteBorderRounded'\r\nimport { Avatar, CardHeader } from '@material-ui/core'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport userPhoto from '../../../../assets/images/user.png'\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <Card className={s.post_container}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar\r\n            // sx={{ bgcolor:  }}\r\n            src={props.profile.photos.large != null ? props.profile.photos.large : userPhoto}\r\n            aria-label='avatar'></Avatar>\r\n        }\r\n        // action={\r\n        //   <IconButton aria-label='settings'>\r\n        //     <MoreVertIcon />\r\n        //   </IconButton>\r\n        // }\r\n        title={props.profile.fullName}\r\n        subheader='few moments ago'\r\n      />\r\n\r\n      <div className={s.details__container}>\r\n        <CardActions className={s.post__like__wrapper}>\r\n          <IconButton color='primary' aria-label='like' component='span'>\r\n            <FavoriteBorderRoundedIcon className={s.like} />\r\n          </IconButton>\r\n\r\n          {/* <span>{props.likesCount}</span> */}\r\n        </CardActions>\r\n        <CardContent className={s.post__text}>{props.message}</CardContent>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import { Card } from '@material-ui/core'\r\nimport AddNewPostFormRedux from './AddNewPost/AddNewPostForm'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport Typography from '@mui/material/Typography'\r\n\r\nconst MyPosts = (props) => {\r\n  let postsElements = props.posts.map((post) => (\r\n    <Post profile={props.profile} message={post.message} likesCount={post.likesCount} />\r\n  ))\r\n\r\n  const onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n    values.newPostText = ''\r\n  }\r\n\r\n  return (\r\n    <div className={s.posts__container}>\r\n      <Card className={s.form_post__container}>\r\n        <Typography variant='h4' gutterBottom component='div'>\r\n          My posts\r\n        </Typography>\r\n        <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      </Card>\r\n\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyPosts\r\n","import { connect } from 'react-redux'\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    },\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './Posts/MyPostsContainer'\r\nimport Preloader from './../common/Preloader/Preloader'\r\nimport React from 'react'\r\n\r\nconst Profile = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div className={s.profile}>\r\n      <ProfileInfo\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer users={props.users} profile={props.profile} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const MemoizedProfile = React.memo(Profile)\r\n\r\nexport default Profile\r\n","import Profile, { MemoizedProfile } from './Profile'\r\nimport React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport { savePhoto } from './../../redux/profile-reducer'\r\n\r\nconst ProfileContainer = (props) => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId\r\n\r\n    if (!userId) {\r\n      userId = props.authorizedUserId\r\n      if (!userId) {\r\n        props.history.push('/login')\r\n      }\r\n    }\r\n    props.getUserProfile(userId)\r\n    props.getStatus(userId)\r\n  })\r\n\r\n  return (\r\n    <MemoizedProfile\r\n      {...props}\r\n      isOwner={!props.match.params.userId}\r\n      profile={props.profile}\r\n      status={props.status}\r\n      updateStatus={props.updateStatus}\r\n      savePhoto={props.savePhoto}\r\n    />\r\n  )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n  withRouter\r\n)(ProfileContainer)\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Navbar.module.css'\r\n\r\n// nested in the Header\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <nav className={s.menu}>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/profile'>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/dialogs'>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/users'>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/weather'>\r\n          Weather\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/converter'>\r\n          Currency\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink className={s.link} activeClassName={s.active} onClick={props.onClose()} to='/alarm'>\r\n          Alarm\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport { SwipeableDrawer } from '@material-ui/core'\r\nimport { useState } from 'react'\r\nimport Navbar from './../Navbar/Navbar'\r\n\r\nconst Header = (props) => {\r\n  const [anchor, setAnchor] = useState(null)\r\n  const open = Boolean(anchor)\r\n  const handleMenu = (event) => {\r\n    setAnchor(event.currentTarget)\r\n  }\r\n\r\n  const [menuBar, setMenuBar] = useState(false)\r\n\r\n  const toggleDrawer = (isOpenBar) => (event) => {\r\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return\r\n    }\r\n    setMenuBar(isOpenBar)\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <AppBar className={s.header} position='static'>\r\n        <Toolbar>\r\n          <IconButton onClick={toggleDrawer(true)} edge='start' color='inherit' aria-label='open drawer'>\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <SwipeableDrawer open={menuBar} onClose={toggleDrawer(false)} onOpen={toggleDrawer(true)}>\r\n            <Navbar onClose={toggleDrawer} />\r\n          </SwipeableDrawer>\r\n\r\n          <Typography variant='h6' className={s.title}>\r\n            HydroBee\r\n          </Typography>\r\n\r\n          <div className={s.login__block}>\r\n            <IconButton\r\n              aria-label='account of current user'\r\n              aria-controls='menu-appbar'\r\n              aria-haspopup='true'\r\n              onClick={handleMenu}\r\n              color='inherit'>\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id='menu-appbar'\r\n              anchorEl={anchor}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={open}\r\n              onClose={() => {\r\n                setAnchor(null)\r\n              }}>\r\n              {props.isAuth ? (\r\n                <>\r\n                  <NavLink to='/profile'>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        setAnchor(null)\r\n                      }}>\r\n                      Profile\r\n                    </MenuItem>\r\n                  </NavLink>\r\n                  <MenuItem onClick={props.logout}>Log out</MenuItem>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <NavLink to={'/login'}>\r\n                    <MenuItem\r\n                      onClick={() => {\r\n                        setAnchor(null)\r\n                      }}>\r\n                      Login\r\n                    </MenuItem>\r\n                  </NavLink>\r\n                </>\r\n              )}\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { stopSubmit } from 'redux-form'\r\nimport { authAPI, securityAPI } from '../components/api/api'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nexport type InitialStateType = {\r\n  userId: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n  captchaUrl: string | null //if null, then captcha is not required\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null, //if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n  userId: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\ntype SetAuthUserDataActionType = {\r\n  type: typeof SET_USER_DATA\r\n  payload: SetAuthUserDataActionPayloadType\r\n}\r\n\r\nexport const setAuthUserData = (\r\n  userId: number | null,\r\n  email: string | null,\r\n  login: string | null,\r\n  isAuth: boolean\r\n): SetAuthUserDataActionType => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n})\r\n\r\ntype getCaptchaUrlSuccessActionType = {\r\n  type: typeof GET_CAPTCHA_URL_SUCCESS\r\n  payload: { captchaUrl: string }\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): getCaptchaUrlSuccessActionType => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n  const response = await authAPI.me()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    const { id, login, email } = response.data.data\r\n    dispatch(setAuthUserData(id, email, login, true))\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: any) => async (dispatch: any) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    //success, get auth data\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl())\r\n    }\r\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n  const response = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = response.data.url\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n  const response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logout } from '../../redux/auth-reducer'\r\nimport React from 'react'\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer)\r\n","import { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../utils/validators/validarors'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { minLengthCreator } from './../../utils/validators/validarors'\r\nimport { connect } from 'react-redux'\r\nimport { login } from './../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport s from './Login.module.css'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst minLength4 = minLengthCreator(4)\r\nconst minLength8 = minLengthCreator(8)\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <div className={s.login__container}>\r\n      <Paper className={s.login__wrapper}>\r\n        <form onSubmit={props.handleSubmit}>\r\n          <div className={s.name_field__wrapper}>\r\n            <h1>Login</h1>\r\n          </div>\r\n\r\n          <div className={s.email__text_field}>\r\n            <Field\r\n              placeholder={'Email'}\r\n              name={'email'}\r\n              component={Input}\r\n              label={'Email'}\r\n              id={'outlined-basic'}\r\n              variant={'outlined'}\r\n              validate={[required, maxLength20, minLength4]}\r\n            />\r\n          </div>\r\n          <div className={s.password__text_field}>\r\n            <Field\r\n              placeholder={'Password'}\r\n              name={'password'}\r\n              type={'password'}\r\n              component={Input}\r\n              label={'Password'}\r\n              id={'outlined-basic'}\r\n              variant={'outlined'}\r\n              validate={[required, maxLength20, minLength8]}\r\n            />\r\n          </div>\r\n          <div className={s.checkbox}>\r\n            <Field type={'checkbox'} name={'rememberMe'} component={'input'} /> remember me\r\n          </div>\r\n          {props.captchaUrl && (\r\n            <div className={s.captcha__container}>\r\n              <img src={props.captchaUrl} alt='captcha' />\r\n              <Field\r\n                placeholder={'Symbols from image'}\r\n                name={'captcha'}\r\n                component={Input}\r\n                label={'Captcha'}\r\n                id={'outlined-basic'}\r\n                variant={'outlined'}\r\n                validate={[required]}\r\n              />\r\n            </div>\r\n          )}\r\n          {/* captcha */}\r\n          {props.error && <div className={s.form__summary_error}>{props.error}</div>}\r\n          <div className={s.button__wrapper}>\r\n            <button className={s.button}>Login</button>\r\n          </div>\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  captchaUrl: state.auth.captchaUrl,\r\n  isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, { login })(Login)\r\n","import { getAuthUserData } from './auth-reducer'\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nexport type InitialStateType = {\r\n  initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any): InitialStateType => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\ntype InitializedSuccessActionType = {\r\n  type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nexport const initializedSuccess = (): InitializedSuccessActionType => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const inititalizeApp = () => (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserData())\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer'\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nexport default store\r\n","import Typography from '@mui/material/Typography'\r\nimport Link from '@mui/material/Link'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nexport const Weather = (props) => {\r\n  return (\r\n    <Paper style={{ width: '100%', height: '90vh' }}>\r\n      <Typography style={{ paddingLeft: '1em', paddingTop: '1em' }} variant='h3' gutterBottom component='div'>\r\n        <Link href='https://hydrobee3000.github.io/weather/'>Weather</Link>\r\n      </Typography>\r\n    </Paper>\r\n  )\r\n}\r\n","import Typography from '@mui/material/Typography'\r\nimport Link from '@mui/material/Link'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nexport const Converter = (props) => {\r\n  return (\r\n    <Paper style={{ width: '100%', height: '90vh' }}>\r\n      <Typography style={{ paddingLeft: '1em', paddingTop: '1em' }} variant='h3' gutterBottom component='div'>\r\n        <Link href='https://hydrobee3000.github.io/converter/'>Currency converter</Link>\r\n      </Typography>\r\n    </Paper>\r\n  )\r\n}\r\n","import Typography from '@mui/material/Typography'\r\nimport Link from '@mui/material/Link'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nexport const Alarm = (props) => {\r\n  return (\r\n    <Paper style={{ width: '100%', height: '90vh' }}>\r\n      <Typography style={{ paddingLeft: '1em', paddingTop: '1em' }} variant='h3' gutterBottom component='div'>\r\n        <Link href='https://www.youtube.com/watch?v=dQw4w9WgXcQ&ab_channel=RickAstley'>Alarm</Link>\r\n      </Typography>\r\n    </Paper>\r\n  )\r\n}\r\n","import './App.css'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer'\r\nimport UsersContainer from './components/Users/UsersContainer'\r\nimport ProfileContainer from './components/Profile/ProfileContainer'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport LoginPage from './components/Login/Login'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport { connect } from 'react-redux'\r\nimport { inititalizeApp } from './redux/app-reducer'\r\nimport store from './redux/redux-store'\r\n//import { BrowserRouter as Router} from 'react-router-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport React from 'react'\r\nimport { Paper } from '@material-ui/core'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles'\r\nimport { useEffect } from 'react'\r\nimport { Weather } from './components/Weather/Weather'\r\nimport { Converter } from './components/Converter/Converter'\r\nimport { Alarm } from './components/Alarm/Alarm'\r\n\r\n//theme for Material UI\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2b7a78',\r\n    },\r\n    secondary: {\r\n      main: '#f6fdfc',\r\n    },\r\n  },\r\n})\r\n\r\nconst App = (props) => {\r\n  useEffect(() => {\r\n    props.inititalizeApp()\r\n  })\r\n\r\n  if (!props.initialized) {\r\n    return <Preloader />\r\n  } else {\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <Grid container>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <HeaderContainer />\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper color='#f6fdfc'>\r\n              <div className='app-wrapper-content'>\r\n                <Route exact path='/'>\r\n                  <Redirect to='/profile' />\r\n                </Route>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n                <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n                <Route path='/users' render={() => <UsersContainer />} />\r\n                <Route path='/login' render={() => <LoginPage />} />\r\n                <Route path='/weather' render={() => <Weather />} />\r\n                <Route path='/converter' render={() => <Converter />} />\r\n                <Route path='/alarm' render={() => <Alarm />} />\r\n              </div>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nlet AppContainer = connect(mapStateToProps, { inititalizeApp })(App)\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <React.StrictMode>\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n          <MuiThemeProvider theme={theme}>\r\n            <AppContainer />\r\n          </MuiThemeProvider>\r\n        </Provider>\r\n      </Router>\r\n    </React.StrictMode>\r\n  )\r\n}\r\n\r\nexport default MainApp\r\n","import reportWebVitals from './reportWebVitals'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport MainApp from './App'\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'))\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs__container\":\"Dialogs_dialogs__container__3YAGs\",\"dialogs__items\":\"Dialogs_dialogs__items__3pOfC\",\"dialog__item\":\"Dialogs_dialog__item__8oPjS\",\"link\":\"Dialogs_link__H-dq0\",\"messages__container\":\"Dialogs_messages__container__2p-C5\",\"message__item\":\"Dialogs_message__item__10xUV\",\"message\":\"Dialogs_message__2t6gf\",\"message__send_field\":\"Dialogs_message__send_field__1KUlR\",\"form__message\":\"Dialogs_form__message__14rZo\",\"add__message_field\":\"Dialogs_add__message_field__3NNCC\",\"add__message_button\":\"Dialogs_add__message_button__1llDe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__container\":\"User_user__container__2znBy\",\"image__container\":\"User_image__container__3OPrH\",\"user__photo\":\"User_user__photo__cIoex\",\"user__details\":\"User_user__details__3OmXh\",\"name__wrapper\":\"User_name__wrapper__2S3RC\",\"name\":\"User_name__1EQay\",\"status__wrapper\":\"User_status__wrapper__2ZJR-\",\"status\":\"User_status__3hEK0\",\"button__wrapper\":\"User_button__wrapper__2sjZ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_info__container\":\"ProfileInfo_profile_info__container__1vFZ_\",\"photo__block\":\"ProfileInfo_photo__block__2GliM\",\"photo__wrapper\":\"ProfileInfo_photo__wrapper__Fr4XE\",\"select__image\":\"ProfileInfo_select__image__9cbOX\",\"select__image_input\":\"ProfileInfo_select__image_input__2ZWw7\",\"button__load_image\":\"ProfileInfo_button__load_image__1JmQg\",\"main__photo\":\"ProfileInfo_main__photo__3Wqxx\",\"details__block\":\"ProfileInfo_details__block__f-DIg\",\"name\":\"ProfileInfo_name__2HzSR\",\"status\":\"ProfileInfo_status__dGaxY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__container\":\"Login_login__container__1WodL\",\"login__wrapper\":\"Login_login__wrapper__2UsLk\",\"name_field__wrapper\":\"Login_name_field__wrapper__DmpDo\",\"email__text_field\":\"Login_email__text_field__hajkM\",\"password__text_field\":\"Login_password__text_field__2QwJK\",\"checkbox\":\"Login_checkbox__53ahI\",\"button__wrapper\":\"Login_button__wrapper__2M0Lc\",\"button\":\"Login_button__2rSVP\",\"form__summary_error\":\"Login_form__summary_error__vMQtn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts__container\":\"MyPosts_posts__container__33aHP\",\"posts__wrapper\":\"MyPosts_posts__wrapper__1JKCc\",\"posts\":\"MyPosts_posts__2alx6\",\"form_post__container\":\"MyPosts_form_post__container__2zLws\",\"add_post__field\":\"MyPosts_add_post__field__DMB_t\"};"],"sourceRoot":""}