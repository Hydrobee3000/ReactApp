(this["webpackJsonpmy-app1"]=this["webpackJsonpmy-app1"]||[]).push([[0],{112:function(e,t,a){e.exports={users__container:"Users_users__container__aGTZd",users__wrapper:"Users_users__wrapper__1U53-"}},113:function(e,t,a){e.exports={posts__block:"MyPosts_posts__block__1AIqz",posts:"MyPosts_posts__2alx6",form__post:"MyPosts_form__post__1NTmM",add__post_field:"MyPosts_add__post_field__2pL6G"}},114:function(e,t,a){e.exports={header:"Header_header__1qgC_",title:"Header_title__2VfwY",login__button:"Header_login__button__1K9WG"}},133:function(e,t,a){e.exports={form__control:"FormsControls_form__control__mwhBB",error:"FormsControls_error__1VXKM",form__summary_error:"FormsControls_form__summary_error__2itv6"}},181:function(e,t,a){e.exports={preloader:"Preloader_preloader__3QxHB"}},182:function(e,t,a){e.exports={profile:"Profile_profile__2n60n"}},183:function(e,t,a){e.exports={status__input:"ProfileStatus_status__input__3Dd6y"}},185:function(e,t,a){e.exports={user__logo:"UserLogo_user__logo__2zm__"}},23:function(e,t,a){e.exports={menu:"Navbar_menu__t1fqB",link:"Navbar_link__37ms-",item:"Navbar_item__2B-yV",active:"Navbar_active__U22O7"}},236:function(e,t,a){},237:function(e,t,a){},26:function(e,t,a){e.exports={dialogs__container:"Dialogs_dialogs__container__3YAGs",dialogs__items:"Dialogs_dialogs__items__3pOfC",dialog__item:"Dialogs_dialog__item__8oPjS",link:"Dialogs_link__H-dq0",messages__container:"Dialogs_messages__container__2p-C5",message__item:"Dialogs_message__item__10xUV",message__send_field:"Dialogs_message__send_field__1KUlR",message:"Dialogs_message__2t6gf",form__message:"Dialogs_form__message__14rZo",add__message_field:"Dialogs_add__message_field__3NNCC",add__message_button:"Dialogs_add__message_button__1llDe"}},34:function(e,t,a){e.exports={user__container:"User_user__container__2znBy",image__container:"User_image__container__3OPrH",user__photo:"User_user__photo__cIoex",user__details:"User_user__details__3OmXh",name__wrapper:"User_name__wrapper__2S3RC",name:"User_name__1EQay",status__wrapper:"User_status__wrapper__2ZJR-",status:"User_status__3hEK0",button__wrapper:"User_button__wrapper__2sjZ9"}},36:function(e,t,a){e.exports={profile_info__container:"ProfileInfo_profile_info__container__1vFZ_",photo__block:"ProfileInfo_photo__block__2GliM",photo__wrapper:"ProfileInfo_photo__wrapper__Fr4XE",select__image:"ProfileInfo_select__image__9cbOX",select__image_input:"ProfileInfo_select__image_input__2ZWw7",button__load_image:"ProfileInfo_button__load_image__1JmQg",main__photo:"ProfileInfo_main__photo__3Wqxx",details__block:"ProfileInfo_details__block__f-DIg",block__status_name:"ProfileInfo_block__status_name__2EUik",name:"ProfileInfo_name__2HzSR"}},362:function(e,t,a){"use strict";a.r(t);var n=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,415)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},r=a(0),s=a.n(r),c=a(14),i=a.n(c),o=(a(236),a(237),a(21)),l=a(23),u=a.n(l),_=a(397),d=a(2),j=function(){return Object(d.jsxs)("nav",{className:u.a.menu,children:[Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/profile",children:"Profile"})}),Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/dialogs",children:"Messages"})}),Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/users",children:"Users"})}),Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/music",children:"Music"})}),Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/weather",children:"Weather"})}),Object(d.jsx)(_.a,{}),Object(d.jsx)("div",{className:u.a.item,children:Object(d.jsx)(o.b,{className:u.a.link,activeClassName:u.a.active,to:"/settings",children:"Settings"})})]})},p=a(20),b=a(66),f=a(8),m="SEND_MESSAGE",h={dialogs:[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"}],messages:[{id:1,message:"hi"},{id:2,message:"hello"},{id:3,message:"privet"}]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var a=t.newMessageBody;return Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(b.a)(e.messages),[{id:4,message:a}])});default:return e}},O=a(26),x=a.n(O),v=function(e){return Object(d.jsx)("div",{className:x.a.dialog__item,children:Object(d.jsx)(o.b,{className:x.a.link,activeClassName:x.a.active,to:"/dialogs/"+e.id,children:e.name})})},w=function(e){return Object(d.jsx)("div",{className:x.a.message,children:e.message})},P=a(171),N=a(172),S=function(e){if(!e)return"Field is required!"},C=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," characters")}},y=function(e){return function(t){if(t.length<e)return"Min length is ".concat(e," characters")}},k=a(71),I=a(133),U=a.n(I),E=a(413),T=["input","meta","child"],F=["input","meta","child"],A=["input","meta","child"],L=function(e){e.input;var t=e.meta,a=(e.child,Object(k.a)(e,T)),n=t.touched&&t.error;return Object(d.jsxs)("div",{className:U.a.form__control+" "+(n?U.a.error:""),children:[Object(d.jsx)("div",{children:a.children}),n&&Object(d.jsx)("span",{children:t.error})]})},M=function(e){var t=e.input,a=(e.meta,e.child,Object(k.a)(e,F));return Object(d.jsx)(L,Object(f.a)(Object(f.a)({},e),{},{children:Object(d.jsx)("textarea",Object(f.a)(Object(f.a)({},t),a))}))},z=function(e){var t=e.input,a=(e.meta,e.child,Object(k.a)(e,A));return Object(d.jsx)(L,Object(f.a)(Object(f.a)({},e),{},{children:Object(d.jsx)(E.a,Object(f.a)(Object(f.a)({},t),a))}))},D=a(7),B=a(402),R=a(401),G=Object(D.a)((function(e){return{root:{color:"#def2f1",backgroundColor:"#2b7a78",maxWidth:"250px","&:hover":{backgroundColor:"#33918d"}}}}))(R.a),H=(Object(B.a)((function(e){return{margin:{margin:e.spacing(1)}}})),C(50)),W=Object(N.a)({form:"dialog-add-message-form"})((function(e){return Object(d.jsxs)("form",{className:x.a.form__message,onSubmit:e.handleSubmit,children:[Object(d.jsx)("div",{children:Object(d.jsx)(P.a,{className:x.a.add__message_field,component:M,validate:[S,H],placeholder:"Enter your message",name:"newMessageBody"})}),Object(d.jsx)("div",{className:x.a.wrapper__button,children:Object(d.jsx)(G,{variant:"contained",color:"primary",className:x.a.add__message_button,children:"Send"})})]})})),K=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return Object(d.jsx)(v,{name:e.name,id:e.id},e.id)})),n=t.messages.map((function(e){return Object(d.jsx)(w,{message:e.message},e.id)}));t.newMessageBody;return e.isAuth?Object(d.jsxs)("div",{className:x.a.dialogs__container,children:[Object(d.jsx)("div",{className:x.a.dialogs__items,children:a}),Object(d.jsxs)("div",{className:x.a.messages__container,children:[Object(d.jsx)("div",{className:x.a.message__item,children:n}),Object(d.jsx)("div",{className:x.a.message__send_field,children:Object(d.jsx)(W,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})})]})]}):Object(d.jsx)(p.a,{to:"/login"})},V=a(18),X=function(e){return{isAuth:e.auth.isAuth}},Z=a(16),q=Object(Z.d)(Object(V.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:m,newMessageBody:e}}(t))}}})),(function(e){return Object(V.b)(X)((function(t){return t.isAuth?Object(d.jsx)(e,Object(f.a)({},t)):Object(d.jsx)(p.a,{to:"/login"})}))}))(K),J=a(107),Q=a(108),Y=a(110),$=a(109),ee=a(17),te=a.n(ee),ae=a(28),ne=a(179).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d334ed35-7c2b-4f86-86db-09775214dcba"}}),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return ne.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},se=function(e){return ne.post("follow/".concat(e))},ce=function(e){return ne.delete("follow/".concat(e))},ie=function(e){return console.warn("Obsolete method. Please profileAPI object."),oe.getProfile(e)},oe={getProfile:function(e){return ne.get("profile/"+e)},getStatus:function(e){return ne.get("profile/status/"+e)},updateStatus:function(e){return ne.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),ne.put("profile/photo",t)}},le=function(){return ne.get("auth/me")},ue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ne.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},_e=function(){return ne.delete("auth/login")},de=function(){return ne.get("security/get-captcha-url")},je="FOLLOW",pe="UNFOLLOW",be="SET_USERS",fe="SET_CURRENT_PAGE",me="SET_TOTAL_USERS_COUNT",he="TOGGLE_IS_FETCHING",ge="TOGGLE_IS_FOLLOWING_PROGRESS",Oe={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},xe=function(e){return{type:je,userId:e}},ve=function(e){return{type:pe,userId:e}},we=function(e){return{type:fe,currentPage:e}},Pe=function(e){return{type:he,isFetching:e}},Ne=function(e,t){return{type:ge,isFetching:e,userId:t}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!0}):e}))});case pe:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(f.a)(Object(f.a)({},e),{},{followed:!1}):e}))});case be:return Object(f.a)(Object(f.a)({},e),{},{users:t.users});case fe:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case me:return Object(f.a)(Object(f.a)({},e),{},{totalUsersCount:t.count});case he:return Object(f.a)(Object(f.a)({},e),{},{isFetching:t.isFetching});case ge:return Object(f.a)(Object(f.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Ce=a(105),ye=a(56),ke=a(72),Ie=a.n(ke),Ue=a(180),Ee=a.n(Ue),Te=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,s=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(t/a),l=[],u=1;u<=o;u++)l.push(u);var _=Math.ceil(o/i),j=Object(r.useState)(1),p=Object(ye.a)(j,2),b=p[0],f=p[1],m=(b-1)*i+1,h=b*i;return Object(d.jsxs)("div",{className:Ie.a.paginator,children:[b>1&&Object(d.jsx)("button",{className:Ie.a.previous__button,onClick:function(){f(b-1)},children:"prev"}),l.filter((function(e){return e>=m&&e<=h})).map((function(e){return Object(d.jsx)("span",{className:Ee()(Object(Ce.a)({},Ie.a.page__selected,n===e),Ie.a.page__number),onClick:function(t){s(e)},children:e},e)})),_>b&&Object(d.jsx)("button",{className:Ie.a.next__button,onClick:function(){f(b+1)},children:"next"})]})},Fe=a(34),Ae=a.n(Fe),Le=a.p+"static/media/user.db93928b.png",Me=a(403),ze=a(405),De=a(404),Be=a(406),Re=a(407),Ge=["user"],He=function(e){var t=e.user,a=Object(k.a)(e,Ge);return Object(d.jsxs)(Me.a,{className:Ae.a.user__container,children:[Object(d.jsx)(De.a,{className:Ae.a.image__container,title:"user profile",children:Object(d.jsx)(o.b,{to:"/profile/"+t.id,children:Object(d.jsx)("img",{className:Ae.a.user__photo,src:null!=t.photos.small?t.photos.small:Le,alt:"user"})})}),Object(d.jsxs)(ze.a,{className:Ae.a.user__details,children:[Object(d.jsx)(Be.a,{className:Ae.a.name__wrapper,component:"h3",variant:"h3",children:Object(d.jsx)("div",{className:Ae.a.name,children:t.name})}),Object(d.jsx)(Be.a,{className:Ae.a.status__wrapper,variant:"subtitle1",color:"textSecondary",children:Object(d.jsx)("div",{className:Ae.a.status,children:t.status})})]}),Object(d.jsx)(Re.a,{className:Ae.a.button__wrapper,children:t.followed?Object(d.jsx)(R.a,{variant:"outlined",color:"middle",className:Ae.a.button,disabled:a.followingInProgress.some((function(e){return e===t.id})),onClick:function(){a.unfollow(t.id)},children:"Unfollow"}):Object(d.jsx)(R.a,{variant:"contained",color:"middle",className:Ae.a.button,disabled:a.followingInProgress.some((function(e){return e===t.id})),onClick:function(){a.follow(t.id)},children:"Follow"})})]})},We=a(112),Ke=a.n(We),Ve=function(e){return Object(d.jsxs)("div",{className:Ke.a.users__container,children:[Object(d.jsx)("div",{className:Ke.a.pagination__container,children:Object(d.jsx)(Te,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize})}),Object(d.jsx)("div",{className:Ke.a.users__wrapper,children:e.users.map((function(t){return Object(d.jsx)(He,{user:t,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow},t.id)}))})]})},Xe=a.p+"static/media/preloader.a6f61220.svg",Ze=a(181),qe=a.n(Ze),Je=function(e){return Object(d.jsx)("div",{className:qe.a.preloader,children:Object(d.jsx)("img",{src:Xe,alt:"preloader"})})},Qe=function(e){return e.usersPage.users},Ye=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalUsersCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},at=function(e){return e.usersPage.followingInProgress},nt=function(e){Object(Y.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(Q.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[this.props.isFetching?Object(d.jsx)(Je,{}):null,Object(d.jsx)(Ve,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),a}(s.a.Component),rt=Object(Z.d)(Object(V.b)((function(e){return{users:Qe(e),pageSize:Ye(e),totalUsersCount:$e(e),currentPage:et(e),isFetching:tt(e),followingInProgress:at(e)}}),{follow:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ne(!0,e)),t.next=3,se(e);case 3:0===t.sent.data.resultCode&&a(xe(e)),a(Ne(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ne(!0,e)),t.next=3,ce(e);case 3:0===t.sent.data.resultCode&&a(ve(e)),a(Ne(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:we,toggleFollowingProgress:Ne,getUsers:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){var r;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Pe(!0)),n(we(e)),a.next=4,re(e,t);case 4:r=a.sent,n(Pe(!1)),n((c=r.items,{type:be,users:c})),n((s=r.totalCount,{type:me,count:s}));case 8:case"end":return a.stop()}var s,c}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(nt),st=a(182),ct=a.n(st),it=a(36),ot=a.n(it),lt=a(183),ut=a.n(lt),_t=function(e){var t=Object(r.useState)(!1),a=Object(ye.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)(e.status),i=Object(ye.a)(c,2),o=i[0],l=i[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(d.jsxs)("div",{className:ut.a.status__input,children:[!n&&Object(d.jsx)("span",{children:Object(d.jsx)("span",{onDoubleClick:function(){return s(!0)},children:e.status||"----"})}),n&&Object(d.jsx)("span",{children:Object(d.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatus(o)},autoFocus:!0,value:o})})]})},dt=a(408),jt=a(184),pt=a.n(jt),bt=a(194),ft=function(e){if(!e.profile)return Object(d.jsx)(Je,{});return Object(d.jsxs)(bt.a,{className:ot.a.profile_info__container,children:[Object(d.jsx)("div",{className:ot.a.photo__block,children:Object(d.jsxs)("div",{className:ot.a.photo__wrapper,children:[e.isOwner&&Object(d.jsxs)("div",{className:ot.a.select__image,children:[Object(d.jsx)("input",{accept:"image/*",className:ot.a.select__image_input,id:"icon-button-file",type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(d.jsx)("label",{htmlFor:"icon-button-file",children:Object(d.jsx)(dt.a,{className:ot.a.button__load_image,color:"primary","aria-label":"upload picture",component:"div",children:Object(d.jsx)(pt.a,{})})})]}),Object(d.jsx)("img",{className:ot.a.main__photo,src:null!=e.profile.photos.large?e.profile.photos.large:Le,alt:""})]})}),Object(d.jsx)("div",{className:ot.a.details__block,children:Object(d.jsxs)("div",{className:ot.a.block__status_name,children:[Object(d.jsx)("h1",{className:ot.a.name,children:e.profile.fullName}),Object(d.jsxs)("h3",{children:["Status: ",e.profile.aboutMe]}),Object(d.jsx)(_t,{status:e.status,updateStatus:e.updateStatus})]})})]})},mt="ADD_POST",ht="SET_USER_PROFILE",gt="SET_STATUS",Ot="DELETE_POST",xt="SAVE_PHOTO_SUCCESS",vt={posts:[{id:1,message:"hi",likesCount:12},{id:2,message:"hello",likesCount:5}],profile:null,status:""},wt=function(e){return{type:gt,status:e}},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:var a={id:3,message:t.newPostText,likesCount:0};return Object(f.a)(Object(f.a)({},e),{},{posts:[].concat(Object(b.a)(e.posts),[a]),newPostText:""});case Ot:return Object(f.a)(Object(f.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case xt:return Object(f.a)(Object(f.a)({},e),{},{profile:Object(f.a)(Object(f.a)({},e.profile),{},{photos:t.photos})});case ht:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});case gt:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});default:return e}},Nt=a(113),St=a.n(Nt),Ct=a(50),yt=a.n(Ct),kt=a(185),It=a.n(kt),Ut=function(e){return Object(d.jsx)("img",{className:It.a.user__logo,src:Le,alt:"user logo"})},Et=a(186),Tt=a.n(Et),Ft=function(e){return Object(d.jsxs)(Me.a,{className:yt.a.post_container,children:[Object(d.jsx)(De.a,{className:yt.a.image__container,title:"user",children:Object(d.jsx)(Ut,{profile:e.profile})}),Object(d.jsxs)("div",{className:yt.a.details__container,children:[Object(d.jsx)(ze.a,{children:Object(d.jsx)("div",{className:yt.a.post__text,children:e.message})}),Object(d.jsx)(Re.a,{className:yt.a.like__wrapper,children:Object(d.jsx)("div",{className:yt.a.like,children:Object(d.jsx)(Tt.a,{className:yt.a.icon})})})]})]})},At=C(70),Lt=Object(N.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(d.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(d.jsx)("div",{className:St.a.postForm,children:Object(d.jsx)(P.a,{component:M,name:"newPostText",validate:[S,At]})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{children:"Add post"})})]})})),Mt=function(e){var t=e.posts.map((function(t){return Object(d.jsx)(Ft,{profile:e.profile,message:t.message,likesCount:t.likesCount})}));return Object(d.jsxs)("div",{className:St.a.posts__block,children:[Object(d.jsx)("h3",{children:"My posts"}),Object(d.jsx)(Lt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(d.jsx)("div",{className:St.a.posts,children:t})]})},zt=Object(V.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:mt,newPostText:e}}(t))}}}))(Mt),Dt=function(e){return Object(d.jsxs)("div",{className:ct.a.profile,children:[Object(d.jsx)(ft,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(d.jsx)(zt,{users:e.users,profile:e.profile})]})},Bt=Object(Z.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){var n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie(e);case 2:n=t.sent,a((r=n.data,{type:ht,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){var n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.getStatus(e);case 2:n=t.sent,a(wt(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(wt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){var n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&a((r=n.data.data.photos,{type:xt,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f)((function(e){return Object(r.useEffect)((function(){var t=e.match.params.userId;t||(t=e.authorizedUserId)||e.history.push("/login"),e.getUserProfile(t),e.getStatus(t)})),Object(d.jsx)(Dt,Object(f.a)(Object(f.a)({},e),{},{isOwner:!e.match.params.userId,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto}))})),Rt=a(114),Gt=a.n(Rt),Ht=a(409),Wt=a(410),Kt=a(187),Vt=a.n(Kt),Xt=a(188),Zt=a.n(Xt),qt=a(414),Jt=a(191),Qt=function(e){var t=s.a.useState(null),a=Object(ye.a)(t,2),n=a[0],r=a[1],c=Boolean(n),i=function(){r(null)};return Object(d.jsx)("header",{children:Object(d.jsx)(Ht.a,{className:Gt.a.header,position:"static",children:Object(d.jsxs)(Wt.a,{children:[Object(d.jsx)(dt.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(d.jsx)(Vt.a,{})}),Object(d.jsx)(Be.a,{variant:"h6",className:Gt.a.title,children:"HydroBee"}),Object(d.jsxs)("div",{className:Gt.a.login__block,children:[Object(d.jsx)(dt.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(d.jsx)(Zt.a,{})}),Object(d.jsx)(Jt.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:i,children:e.isAuth?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.b,{to:"/profile",children:Object(d.jsx)(qt.a,{onClick:i,children:"Profile"})}),Object(d.jsx)(qt.a,{onClick:e.logout,children:"Log out"})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(o.b,{to:"/login",children:Object(d.jsx)(qt.a,{onClick:i,children:"Login"})})})})]})]})})})},Yt=a(58),$t="SET_USER_DATA",ea="GET_CAPTCHA_URL_SUCCESS",ta={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},aa=function(e,t,a,n){return{type:$t,payload:{userId:e,email:t,login:a,isAuth:n}}},na=function(e){return{type:ea,payload:{captchaUrl:e}}},ra=function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n,r,s,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,s=n.login,c=n.email,t(aa(r,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sa=function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:a=e.sent,n=a.data.url,t(na(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:case ea:return Object(f.a)(Object(f.a)({},e),t.payload);default:return e}},ia=function(e){Object(Y.a)(a,e);var t=Object($.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(d.jsx)(Qt,Object(f.a)({},this.props))}}]),a}(s.a.Component),oa=Object(V.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:0===e.sent.data.resultCode&&t(aa(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ia),la=a(41),ua=a.n(la),_a=C(20),da=y(4),ja=y(8),pa=Object(N.a)({form:"login"})((function(e){return Object(d.jsxs)("div",{className:ua.a.login__wrapper,children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("form",{className:ua.a.login__form,onSubmit:e.handleSubmit,children:[Object(d.jsx)("div",{className:ua.a.email__text_field,children:Object(d.jsx)(P.a,{placeholder:"Email",name:"email",component:z,label:"Email",id:"outlined-basic",variant:"outlined",validate:[S,_a,da]})}),Object(d.jsx)("div",{className:ua.a.password__text_field,children:Object(d.jsx)(P.a,{placeholder:"Password",name:"password",type:"password",component:z,label:"Password",id:"outlined-basic",variant:"outlined",validate:[S,_a,ja]})}),Object(d.jsxs)("div",{className:ua.a.checkbox,children:[Object(d.jsx)(P.a,{type:"checkbox",name:"rememberMe",component:"input"})," remember me"]}),e.captchaUrl&&Object(d.jsxs)("div",{className:ua.a.captcha__container,children:[Object(d.jsx)("img",{src:e.captchaUrl,alt:"captcha"}),Object(d.jsx)(P.a,{placeholder:"Symbols from image",name:"captcha",component:z,label:"Captcha",id:"outlined-basic",variant:"outlined",validate:[S]})]}),e.error&&Object(d.jsx)("div",{className:ua.a.form__summary_error,children:e.error}),Object(d.jsx)("div",{className:ua.a.button__wrapper,children:Object(d.jsx)("button",{className:ua.a.button,children:"Login"})})]})]})})),ba=Object(V.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(){var r=Object(ae.a)(te.a.mark((function r(s){var c,i;return te.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ue(e,t,a,n);case 2:0===(c=r.sent).data.resultCode?s(ra()):(10===c.data.resultCode&&s(sa()),i=c.data.messages.length>0?c.data.messages[0]:"Some error",s(Object(Yt.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(d.jsx)(p.a,{to:"/profile"}):Object(d.jsx)("div",{children:Object(d.jsx)(pa,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})})})),fa="INITIALIZED_SUCCESS",ma={initialized:!1},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fa:return Object(f.a)(Object(f.a)({},e),{},{initialized:!0});default:return e}},ga={},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga;return e},xa=a(189),va=a(173),wa=Object(Z.c)({profilePage:Pt,dialogsPage:g,sidebar:Oa,usersPage:Se,auth:ca,form:va.a,app:ha}),Pa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,Na=Object(Z.e)(wa,Pa(Object(Z.a)(xa.a))),Sa=a(411),Ca=a(190),ya=a(412),ka=Object(Ca.a)({palette:{primary:{main:"#2b7a78"},secondary:{main:"#f6fdfc"}}}),Ia=Object(V.b)((function(e){return{initialized:e.app.initialized}}),{inititalizeApp:function(){return function(e){e(ra()).then((function(){e({type:fa})}))}}})((function(e){return Object(r.useEffect)((function(){e.inititalizeApp()})),e.initialized?Object(d.jsx)("div",{className:"app-wrapper",children:Object(d.jsxs)(Sa.a,{container:!0,maxWidth:"sm",children:[Object(d.jsx)(Sa.a,{item:!0,xs:12,children:Object(d.jsx)(bt.a,{children:Object(d.jsx)(oa,{})})}),Object(d.jsx)(Sa.a,{item:!0,xs:3,children:Object(d.jsx)(bt.a,{children:Object(d.jsx)(j,{})})}),Object(d.jsx)(Sa.a,{item:!0,xs:9,children:Object(d.jsx)(bt.a,{color:"#f6fdfc",children:Object(d.jsxs)("div",{className:"app-wrapper-content",children:[Object(d.jsx)(p.b,{path:"/dialogs",render:function(){return Object(d.jsx)(q,{})}}),Object(d.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(d.jsx)(Bt,{})}}),Object(d.jsx)(p.b,{path:"/users",render:function(){return Object(d.jsx)(rt,{})}}),Object(d.jsx)(p.b,{path:"/login",render:function(){return Object(d.jsx)(ba,{})}})]})})})]})}):Object(d.jsx)(Je,{})})),Ua=function(e){return Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(o.a,{basename:"/social-network",children:Object(d.jsx)(V.a,{store:Na,children:Object(d.jsx)(ya.a,{theme:ka,children:Object(d.jsx)(Ia,{})})})})})};i.a.render(Object(d.jsx)(Ua,{}),document.getElementById("root")),n()},41:function(e,t,a){e.exports={login__wrapper:"Login_login__wrapper__2UsLk",login__form:"Login_login__form__3mYlt",email__text_field:"Login_email__text_field__hajkM",password__text_field:"Login_password__text_field__2QwJK",checkbox:"Login_checkbox__53ahI",button__wrapper:"Login_button__wrapper__2M0Lc",button:"Login_button__2rSVP",form__summary_error:"Login_form__summary_error__vMQtn"}},50:function(e,t,a){e.exports={post_container:"Post_post_container__v3bVU",image__container:"Post_image__container__1BxKI",details__container:"Post_details__container__3-41N",post__text:"Post_post__text__7O1F_",like__wrapper:"Post_like__wrapper__weCyI",like:"Post_like__1tYJE",icon:"Post_icon__19IIe"}},72:function(e,t,a){e.exports={paginator:"Paginator_paginator__2hrN5",page__selected:"Paginator_page__selected__3sk80",page__number:"Paginator_page__number__2c2gs",previous__button:"Paginator_previous__button__3Kilv",next__button:"Paginator_next__button__iXX6B"}}},[[362,1,2]]]);
//# sourceMappingURL=main.21c31596.chunk.js.map